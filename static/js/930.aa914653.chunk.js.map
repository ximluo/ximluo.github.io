{"version":3,"file":"static/js/930.aa914653.chunk.js","mappings":"oKASA,MA4JA,EA5JoC,CAClCA,WAAY,CACV,CACEC,MAAO,mCACPC,KAAM,OACNC,YAAa,mDACbC,KAAM,+EAER,CACEH,MAAO,6CACPC,KAAM,OACNC,YAAa,iEACbC,KAAM,mDAER,CACEH,MAAO,mCACPC,KAAM,OACNC,YAAa,6DACbC,KAAM,kEAER,CACEH,MAAO,gCACPC,KAAM,OACNC,YAAa,0CACbC,KAAM,IAER,CACEH,MAAO,sBACPC,KAAM,OACNC,YAAa,gCACbC,KAAM,IAER,CACEH,MAAO,+CACPC,KAAM,OACNC,YAAa,wDACbC,KAAM,uDAGVC,aAAc,CACZ,CACEJ,MAAO,8BACPC,KAAM,OACNC,YAAa,GACbC,KAAM,IAER,CACEH,MAAO,yBACPC,KAAM,OACNC,YAAa,GACbC,KAAM,gGAER,CACEH,MAAO,gDACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,uDACPC,KAAM,OACNC,YAAa,GACbC,KAAM,kEAER,CACEH,MAAO,iEACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,0BACPC,KAAM,OACNC,YAAa,KAGjBG,YAAa,CACX,CACEL,MAAO,wCACPC,KAAM,OACNC,YAAa,2CACbC,KAAM,yDAER,CACEH,MAAO,4DACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,6CACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,2CACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,2CACPC,KAAM,YACNC,YAAa,GACbC,KAAM,KAGVG,OAAQ,CACN,CACEN,MAAO,mDACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,oCACPC,KAAM,OACNC,YAAa,iEACbC,KAAM,IAER,CACEH,MAAO,qCACPC,KAAM,OACNC,YAAa,qDACbC,KAAM,8FAER,CACEH,MAAO,gEACPC,KAAM,OACNC,YAAa,GACbC,KAAM,IAER,CACEH,MAAO,+DACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,gEACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,gEACPC,KAAM,OACNC,YAAa,GACbC,KAAM,IAER,CACEH,MAAO,8DACPC,KAAM,OACNC,YAAa,IAEf,CACEF,MAAO,8CACPC,KAAM,OACNC,YAAa,M,uBCtJnB,MAsEA,EAtEgDK,IAAyB,IAAxB,QAAEC,EAAO,MAAEC,GAAOF,EACjE,MAAMG,EAAcC,EAAAA,GAAoBF,GAClCG,EAAeC,EAAAA,GAAoBJ,GAEzC,OACEK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAwBC,QAASR,EAAQS,UACtDC,EAAAA,EAAAA,MAAA,OACEH,UAAU,qBACVI,MAAO,CACL,yBAAsCP,EAAaQ,mBACnD,wBAAqCR,EAAaS,kBAClD,gBAA6BX,EAAY,gBACzC,kBAA+BA,EAAY,0BAC3C,kBAA+BA,EAAY,kBAC3C,2BAAwCA,EAAY,sBAEtDM,QAAUM,GAAUA,EAAMC,kBAAkBN,SAAA,EAE5CC,EAAAA,EAAAA,MAAA,OAAKH,UAAU,sBAAqBE,SAAA,EAClCH,EAAAA,EAAAA,KAAA,MAAIC,UAAU,qBAAoBE,SAAC,0BACnCH,EAAAA,EAAAA,KAAA,UACEU,KAAK,SACLR,QAASR,EACTO,UAAU,qBACV,aAAW,eAAcE,SAC1B,aAKHH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBE,SACnCQ,OAAOC,QAAQC,GAAYC,KAAIC,IAAA,IAAEC,EAASC,GAAOF,EAAA,OAChDX,EAAAA,EAAAA,MAAA,WAAAD,SAAA,EACEH,EAAAA,EAAAA,KAAA,MAAIC,UAAU,6BAA4BE,SAAEa,KAC5ChB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oBAAmBE,SAC/Bc,EAAOH,KAAKI,IAAW,IAADC,EACrB,MAAMC,EAAUC,QAAkB,QAAXF,EAACD,EAAM7B,YAAI,IAAA8B,OAAA,EAAVA,EAAYG,QAEpC,OACElB,EAAAA,EAAAA,MAAA,OAEEH,UAAW,sBAAqBmB,EAAU,4BAA8B,IACxElB,QAAUM,IACRA,EAAMC,kBACFW,GAASG,OAAOC,KAAKN,EAAM7B,KAAM,SAAU,sBAAsB,EACrEc,SAAA,EAEFC,EAAAA,EAAAA,MAAA,OAAKH,UAAU,2BAA0BE,SAAA,EACvCC,EAAAA,EAAAA,MAAA,MAAIH,UAAU,0BAAyBE,SAAA,CACpCe,EAAMhC,MACNkC,IAAWpB,EAAAA,EAAAA,KAAA,QAAMC,UAAU,8BAA6BE,SAAC,qBAE5DH,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBE,SAAEe,EAAM/B,UAGjD+B,EAAM9B,cACLY,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gCAA+BE,SAAEe,EAAM9B,gBAhBjD,GAAG4B,KAAWE,EAAMhC,SAASgC,EAAM/B,OAkBpC,QA1BA6B,EA8BJ,UAIZ,E,sDC3DV,MAAMS,EAA0ChC,IAIzC,IAJ0C,IAC/CiC,EAAM,0BAAyB,QAC/BC,EAAO,gBACPC,EAAkB,CAAC,EAAG,EAAG,IAC1BnC,EACC,MAAMoC,GAAQC,EAAAA,EAAAA,QAAoB,MAC5BC,GAAQD,EAAAA,EAAAA,QAAoB,OAC5B,MAAEE,EAAK,WAAEC,IAAeC,EAAAA,EAAAA,GAAQR,IAIhC,QAAES,EAAO,MAAEC,IAAUC,EAAAA,EAAAA,GAAcJ,EAAYJ,GAmBrD,OAjBAS,EAAAA,EAAAA,YAAU,KACRF,EAAMG,SAASC,IACb,MAAMC,EAASN,EAAQK,GAClBC,IACLA,EAAOC,QACPD,EAAOE,QAAQC,EAAAA,IAAkBC,KACjCJ,EAAOK,OAAM,IAER,KACLV,EAAMG,SAASC,IAAI,IAAAO,EAAA,OAAkB,QAAlBA,EAAKZ,EAAQK,UAAK,IAAAO,OAAA,EAAbA,EAAeC,MAAM,GAAC,IAE/C,CAACb,EAASC,KAEbE,EAAAA,EAAAA,YAAU,KACJT,EAAMoB,UAAgB,OAAPtB,QAAO,IAAPA,GAAAA,EAAUE,EAAMoB,SAAQ,GAC1C,CAACtB,KAGF3B,EAAAA,EAAAA,KAAA,SAAOkD,IAAKrB,EAAOsB,QAAS,KAAKhD,UAC/BH,EAAAA,EAAAA,KAAA,SAAOkD,IAAKnB,EAAOqB,SAAUxB,EAAgBzB,UAC3CH,EAAAA,EAAAA,KAAA,aAAWqD,OAAQrB,OAEf,EA6GZE,EAAAA,EAAQoB,QAAQ,2BAEhB,QA3G6DvC,IAEtD,IADLwC,QAAQ,SAAEC,EAAQ,YAAEC,IACrB1C,EACC,MAAM2C,GAAW5B,EAAAA,EAAAA,QAA2B,OACtC,OAAE6B,EAAM,KAAEC,IAASC,EAAAA,EAAAA,KACnBC,GAAiBC,EAAAA,EAAAA,UAAQ,IACzBN,GAAe,IAAY,IACxB,MACN,CAACA,IAEEO,GAAgBC,EAAAA,EAAAA,cAAY,KAChC,IAAKP,EAAST,QAAS,OAAO,EAC9B,GAAIW,EAAKM,OAAS,GAAKN,EAAKO,QAAU,EAAG,OAAO,EAChD,MAAMC,EAAMV,EAAST,QAEfoB,GAAM,IAAIzB,EAAAA,KAAa0B,cAAcF,GAC3C,IAAKC,IAAQE,SAASF,EAAIG,IAAIC,GAAI,CAChC,MAAMC,EAAQf,EAId,OAHAe,EAAMC,SAASC,IAAI,EAAG,GAAK,GAC3BF,EAAMG,OAAO,EAAG,GAAK,GACrBH,EAAMI,0BACC,CACT,CAEA,MAAMZ,EAAQG,EAAIU,IAAIN,EAAIJ,EAAIG,IAAIC,EAC5BN,EAASE,EAAIU,IAAIC,EAAIX,EAAIG,IAAIQ,EAC7BC,EAAQZ,EAAIU,IAAIG,EAAIb,EAAIG,IAAIU,EAE5BC,EAAe,IAAIvC,EAAAA,IACG,IAAzByB,EAAIG,IAAIC,EAAIJ,EAAIU,IAAIN,GACK,IAAzBJ,EAAIG,IAAIQ,EAAIX,EAAIU,IAAIC,GACK,IAAzBX,EAAIG,IAAIU,EAAIb,EAAIU,IAAIG,IAIjBE,GADU5B,EAAW,IAAO,KACZM,EAEhBY,EAAQf,EACR0B,EAAMzC,EAAAA,IAAgB0C,SAASZ,EAAMW,KACrCE,EAAa3B,EAAKM,MAAQN,EAAKO,OAE/BqB,EADmBC,KAAKV,IAAa,GAATZ,EAAuB,GAARD,EAAeqB,IAC3BE,KAAKC,IAAIL,EAAM,GAAKD,GAEnDO,EAASR,EACZS,QACAC,IAAI,IAAIjD,EAAAA,KAAe,KAAO,IAAM,GAAGkD,YAAYC,eAAeP,IAE/DQ,EAAUb,EAAaS,QAAQK,IAAIN,GAAQG,YAC3CI,EAAYvC,EAAmCwC,GAAGP,QAAQE,YAC1DM,GAAQ,IAAIxD,EAAAA,KAAgByD,aAAaL,EAASE,GAAUJ,YAC5DQ,GAAS,IAAI1D,EAAAA,KAAgByD,aAAaD,EAAOJ,GAASF,YAE1DS,EAAiBZ,EAAOa,WAAWrB,GACnCsB,EAAqBhB,KAAKC,IAAIL,EAAM,GAAKkB,EAIzCG,EAAiBD,GADAjD,EAAW,IAAM,MAElCmD,EAAmBnD,EAAW,EAAwB,MAJlCiD,EAAqBlB,GAMzCqB,GAAY,IAAIhE,EAAAA,KACnBiD,IAAIO,EAAMR,QAAQG,eAAeY,IACjCd,IAAIS,EAAOV,QAAQG,eAAeW,IAErCf,EAAOE,IAAIe,GACX,MAAMC,EAAY1B,EAAaS,QAAQC,IAAIe,GAO3C,OALAlC,EAAMC,SAASmC,KAAKnB,GACpBjB,EAAMqC,KAAOtB,KAAKV,IAAI,KAAOwB,EAAiB,KAC9C7B,EAAMsC,IAAuB,IAAjBT,EAAuBtB,EACnCP,EAAMI,yBACNJ,EAAMG,OAAOgC,IACN,CAAI,GACV,CAAClD,EAAQH,EAAUI,EAAKO,OAAQP,EAAKM,MAAOJ,IAEzCmD,GAAchD,EAAAA,EAAAA,cACjBpC,IACC6B,EAAST,QAAUpB,EACnB,IAAIqF,EAAW,EACf,MAAMC,EAAWA,KACfD,GAAY,GACKlD,KACAkD,EAAW,IAC1BE,sBAAsBD,EACxB,EAEFC,sBAAsBD,EAAS,GAEjC,CAACnD,IAOH,OAJA1B,EAAAA,EAAAA,YAAU,KACR0B,GAAe,GACd,CAACJ,EAAKM,MAAON,EAAKO,OAAQH,KAG3B5D,EAAAA,EAAAA,MAAAiH,EAAAA,SAAA,CAAAlH,SAAA,EACEH,EAAAA,EAAAA,KAAA,gBAAcsH,UAAW,MACzBtH,EAAAA,EAAAA,KAAA,oBAAkB2E,SAAU,CAAC,EAAG,GAAI,GAAI2C,UAAW,OACnDtH,EAAAA,EAAAA,KAACuH,EAAAA,GAAW,CAACC,OAAO,YACpBxH,EAAAA,EAAAA,KAACyB,EAAW,CAACE,QAASsF,MACrB,E,cC/IP,MAAMQ,EAAc,kBAuNpB,EArN8ChI,IAOvC,IAPwC,IAC7CiI,EAAG,IACHC,EAAG,KACH/D,EAAI,MACJjE,EAAK,YACLiI,EAAc,MAAK,UACnB3H,EAAY,IACbR,EACC,MAAMK,EAAeC,EAAAA,GAAoBJ,IAElCkI,EAAWC,IAAgBC,EAAAA,EAAAA,UAAmB,KAC9CC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAmB,KAC9CG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IACpCK,EAAUC,IAAeN,EAAAA,EAAAA,WAAS,IAClCO,EAAiBC,IAAsBR,EAAAA,EAAAA,WAAS,GACjDvE,GAAWgF,EAAAA,EAAAA,GAAY,KAGvBC,GAAe3G,EAAAA,EAAAA,QAAuB,MACtC4G,GAAW5G,EAAAA,EAAAA,QAAyB,MACpC6G,GAAe7G,EAAAA,EAAAA,QAAe,GAC9B8G,GAAS9G,EAAAA,EAAAA,QAAgC,MAGzC+G,GAAiB5E,EAAAA,EAAAA,cACrB,CAAC6E,EAAuBC,EAAWC,EAAWC,KAC5C,MACMC,EADM,IAAIC,gBAAgBJ,EAAGC,GACnBI,WAAW,KAAM,CAC/BC,oBAAoB,IAEtB,IAAKH,EAAK,MAAO,GAEjBA,EAAII,UAAUR,EAAK,EAAG,EAAGC,EAAGC,GAC5B,MAAM,KAAEO,GAASL,EAAIM,aAAa,EAAG,EAAGT,EAAGC,GAErCS,EAAkB,GAClBC,EAAQT,EACRU,EAAQlE,KAAKV,IAAI,EAAGU,KAAKmE,MAAMX,EAtCtB,MAwCf,IAAK,IAAIjE,EAAI,EAAGA,EAAIgE,EAAGhE,GAAK2E,EAAO,CACjC,IAAIE,EAAO,GACX,IAAK,IAAIpF,EAAI,EAAGA,EAAIsE,EAAGtE,GAAKiF,EAAO,CACjC,MAAMI,EAAoB,GAAb9E,EAAI+D,EAAItE,GACfsF,GAAcR,EAAKO,GAAOP,EAAKO,EAAM,GAAKP,EAAKO,EAAM,IAAM,EAAI,IAC/DE,EAAUvE,KAAKmE,MAAgB,GAAVG,GAC3BF,GAAQpC,EAAYuC,EACtB,CACAP,EAAMQ,KAAKJ,EACb,CACA,OAAOJ,CAAK,GAEd,IAIIS,GAAoBjG,EAAAA,EAAAA,cAAY,KACpC,IAAK2E,EAAO3F,UAAYwF,EAAaxF,QAAS,OAE9C,MAAMoB,EAAMoE,EAAaxF,QAAQkH,wBAC3BC,EAAM3E,KAAKmE,MAAkB,EAAZvF,EAAIH,OAErB+E,EAAOxD,KAAKV,IAAI,EAAGU,KAAKmE,MADf,EA7DE,MAgEXH,EAAQZ,EAAeD,EAAO3F,QAASmH,EAAKA,EAAKnB,GACvDhB,EAAawB,GACb3B,EAAa2B,EAAM,GAClB,CAACZ,KAGJvG,EAAAA,EAAAA,YAAU,KACR,IAAKmG,EAAaxF,QAAS,OAE3B,MAAMoH,EAAiB,IAAIC,gBAAe,KACpC1B,EAAO3F,SACTiH,GACF,IAIF,OADAG,EAAeE,QAAQ9B,EAAaxF,SAC7B,IAAMoH,EAAeG,YAAY,GACvC,CAACN,KAGJ5H,EAAAA,EAAAA,YAAU,KACR,MAAMwG,EAAM,IAAI2B,MAChB3B,EAAI4B,YAAc,YAClB5B,EAAIpB,IAAMA,EACVoB,EAAI6B,OAAS,KAEPjC,EAASzF,UAASyF,EAASzF,QAAQyE,IAAMA,GAE7CkB,EAAO3F,QAAU6F,EACjBoB,GAAmB,CACpB,GACA,CAACA,EAAmBxC,IAGvB,MAAMkD,EAAgBA,KACpB,IAAIC,EAAQ,EACZ,MAEMC,EAAOA,KAEX,GADAD,GAAS,EACLA,GAJM,GAOR,OAFA/C,EAAaE,QACbO,GAAmB,GAIrB,MAAMwC,EAAWF,EAVP,GAWJG,EAAYhD,EAAUlH,KAAKmK,GAC/BA,EACGC,MAAM,IACNpK,KAAKqK,GACJ1F,KAAK2F,SAAWL,EACZtD,EAAYhC,KAAKmE,MAAsBnC,GAAhBhC,KAAK2F,WAC5BD,IAELE,KAAK,MAEVvD,EAAakD,GACbrC,EAAa1F,QAAUmE,sBAAsB0D,EAAK,EAGpDnC,EAAa1F,QAAUmE,sBAAsB0D,EAAK,EA+BpD,OACE1K,EAAAA,EAAAA,MAAA,OACE8C,IAAKuF,EACLxI,UAAW,yBAAyBA,IACpCI,MAAO,CACL6D,MAAON,EACPO,OAAQP,EACR0H,aAAc,MACdC,SAAU,SACV5G,SAAU,WACV6G,WAAY,EACZC,OAAQ,GAAG7D,WAAqB9H,EAAa4L,cAC7CC,UAAW,YAAY7L,EAAa8L,YACpCC,WAAY,uBACZC,OAAQtI,EAAW,eAAYuI,GAEjCC,aA5CqBC,KACnBzI,GAAiC,IAArBwE,EAAUkE,SAC1B/D,GAAa,GACbI,GAAmB,GACnBqC,IAAe,EAyCbuB,aAtCqBC,KACnB5I,IACJ6I,qBAAqB1D,EAAa1F,SAClC6E,EAAaE,GACbG,GAAa,GACbI,GAAmB,GAAM,EAkCvBrI,QA/BcoM,KACX9I,GAAiC,IAArBwE,EAAUkE,SAC3B7D,GAAaD,GACRA,GAIHiE,qBAAqB1D,EAAa1F,SAClC6E,EAAaE,GACbO,GAAmB,KALnBA,GAAmB,GACnBqC,KAKF,EAqBqBzK,SAAA,EAGnBH,EAAAA,EAAAA,KAAA,OACEkD,IAAKwF,EACLhB,IAAKA,GAAO,mBACZC,IAAKA,EACLtH,MAAO,CACL6D,MAAO,OACPC,OAAQ,OACRoI,UAAW,QACXC,QAAStE,GAAaE,EAAW,OAAS,YAK5CF,GAAaE,GAAYE,KACzBtI,EAAAA,EAAAA,KAAA,OACEK,MAAO,CACLsE,SAAU,WACV8H,MAAO,EACPC,WAAY,OACZC,MAAO7M,EAAa8M,UACpBC,SAAU,MACVC,WAAY,MACZC,WAAY,YACZC,WAAY,MACZR,QAAS,OACTS,eAAgB,SAChBC,WAAY,SACZ3B,SAAU,UACVpL,UAEFH,EAAAA,EAAAA,KAAA,OAAKK,MAAO,CAAE8M,OAAQ,GAAIhN,SAAE0H,EAAUwD,KAAK,YAG3C,EC9MH,SAAS+B,EAAkB3N,GAKL,IALM,QACjC4N,EAAO,MACPC,EAAK,oBACLC,EAAmB,UACnBC,GACwB/N,EACxB,OACEW,EAAAA,EAAAA,MAAA,OACEH,UAAW,uBAAsBqN,GAAS,GAAKC,EAAsB,OAAS,IAC9E,eAAcA,EACdlN,MAAO,CAAE,wBAAqCmN,GAAYrN,SAAA,CAC3D,cACQkN,IAGb,CAYO,SAASI,EAAqB1M,GAQL,IARM,iBACpC2M,EAAgB,SAChBlK,EAAQ,kBACRmK,EAAiB,cACjBC,EAAa,gBACbC,EAAe,eACfC,EAAc,aACdC,GAC2BhN,EAC3B,MAAMiN,EAAQ,CACZ,CAAEC,MAAO,WAAY/N,QAAS2N,GAC9B,CAAEI,MAAO,UAAW/N,QAAS4N,GAC7B,CAAEG,MAAO,SAAU/N,QAAS6N,IAG9B,OACE/N,EAAAA,EAAAA,KAAA,OACEC,UAAU,mBACV,eAAcyN,EACdrN,MAAO,CACL,6BAA0CqN,EAAmB,IAAM,KACnEvN,UAEFH,EAAAA,EAAAA,KAAA,OACEC,UAAU,mBACVI,MAAO,CACL,uBAAoCmD,EAAW,SAAW,MAC1D,kBAAiCA,EAAW,GAAK,IAAnB,KAC9B,oBAAiCA,EAAW,QAAU,QACtD,4BAAyCkK,EAAmB,OAAS,QACrEvN,SAED6N,EAAMlN,KAAKoN,IACVlO,EAAAA,EAAAA,KAAA,UAEEmO,UAAWR,EACXjN,KAAK,SACLR,QAAUM,IACRA,EAAMC,kBACDkN,GACLO,EAAKhO,SAAS,EAEhBD,UAAU,kBACVI,MAAO,CACL,mBAAgCuN,EAAcQ,KAC9C,yBAAsCR,EAAcS,MACpD,uBAAoCT,EAAcnC,OAClD,qBAAkCmC,EAAcU,KAChD,qBAAkCV,EAAcW,KAChD,uBAAoC,eAAeX,EAAcW,OACjE,6BAA0C,eAAeX,EAAcW,OACvE,wBAAqC/K,EAAW,YAAc,YAC9D,sBAAmCA,EAAW,mBAAqB,OACnE,2BAA0CA,EAAW,GAAK,IAAnB,MACvCrD,SAED+N,EAAKD,OAtBDC,EAAKD,YA4BtB,CAqBO,SAASO,EAAcC,GAiBL,IAjBM,MAC7B9O,EAAK,MACL2N,EAAK,QACLoB,EAAO,QACPC,EAAO,WACPC,EAAU,UACVC,EAAS,SACTrL,EAAQ,UACRsL,EAAS,gBACTC,EAAe,iBACfrB,EAAgB,oBAChBH,EAAmB,qBACnByB,EAAoB,UACpBxB,EAAS,YACTyB,EAAW,UACXC,EAAS,aACTnB,GACoBU,EACpB,OACErO,EAAAA,EAAAA,MAAA,OACEH,UAAU,iCACVI,MAAO,CACL,yBAAsC,GAAG0O,MACzC,6BAA0CrB,EAAmB,IAAM,IACnE,gCAA6CA,EAAmB,SAAW,WAC3EvN,SAAA,EAEAoN,IAAwByB,IACxB5O,EAAAA,EAAAA,MAAA,OACEH,UAAU,oBACViD,IAAK2L,EACLxO,MAAO,CACL,2BAA0CmD,EAAW,GAAK,IAAnB,KACvC,sBAAmCyL,GACnC9O,SAAA,CAEDyO,GACD5O,EAAAA,EAAAA,KAAA,QAAMC,UAAU,sBAIpBG,EAAAA,EAAAA,MAAA,OACEH,UAAW,mBAAkBqN,GAAS,GAAKC,EAAsB,OAAS,IAC1ElN,MAAO,CACL,wBAAqCmD,EAAW,SAAW,MAC3D,mBAAkCA,EAAW,EAAI,IAAlB,KAC/B,0BAAyCA,EAAW,GAAK,IAAnB,KACtC,6BAA4CA,EAAW,GAAK,GAAnB,KACzC,yBAAsCA,EAAW,SAAW,OAC5D,yBAAsCgK,EACtC,6BAA4ChK,EAAW,GAAK,IAAnB,KACzC,8BAA2CA,EAAW,QAAU,SAChE,gCAA+CA,EAAW,KAAO,IAArB,KAC5C,iCAA8CA,EAAW,QAAU,SACnE,0BAAyCA,EAAW,GAAK,IAAnB,KACtC,0BAAuCyL,EACvC,2BAAwCzL,EAAW,QAAU,SAC7D2L,WAAY5B,EAAsB,UAAY,UAC9CpN,SAAA,EAEFH,EAAAA,EAAAA,KAAA,OAAKC,UAAW,SAAQqN,GAAS,GAAKC,EAAsB,OAAS,IAAKpN,UACxEH,EAAAA,EAAAA,KAACoP,EAAU,CAAC1H,IAAI,qBAAqBC,IAAI,aAAa/D,KAAMkL,EAAWnP,MAAOA,OAGhFS,EAAAA,EAAAA,MAAA,OAAKH,UAAU,iBAAgBE,SAAA,EAC7BH,EAAAA,EAAAA,KAAA,KACEC,UAAW,4CAA2CqN,GAAS,GAAKC,EAAsB,OAAS,IAAKpN,SAEvGuO,KAGH1O,EAAAA,EAAAA,KAAA,MAAIC,UAAW,yBAAwBqN,GAAS,GAAKC,EAAsB,OAAS,IAAKpN,SAAC,qBAI1FH,EAAAA,EAAAA,KAAA,KACEC,UAAW,+CAA8CqN,GAAS,GAAKC,EAAsB,OAAS,IAAKpN,SAE1GwO,WAKPvO,EAAAA,EAAAA,MAAA,OACEH,UAAW,kBAAiBqN,GAAS,GAAKC,EAAsB,OAAS,IACzElN,MAAO,CACL,wBAAuCmD,EAAW,GAAK,IAAnB,KACpC,yBAAsC,IAAGA,EAAW,IAAM,KAC1D,mBAAgCgK,EAChC,qBAAkChK,EAAW,SAAW,IACxD,8BAA2CA,EAAW,MAAQ,OAC9D,oBAAiC0L,GACjC/O,SAAA,EAEFC,EAAAA,EAAAA,MAAA,KAAGH,UAAU,gDAA+CE,SAAA,CAAC,gFAE3DH,EAAAA,EAAAA,KAAA,KACEC,UAAU,YACVoP,KAAK,mCACLC,OAAO,SACPC,IAAI,sBAAqBpP,SAC1B,yBAEG,uBAGNC,EAAAA,EAAAA,MAAA,KAAGH,UAAU,gDAA+CE,SAAA,CAAC,4FAC+B,KAC1FH,EAAAA,EAAAA,KAAA,KACEC,UAAU,YACVoP,KAAK,0BACLC,OAAO,SACPC,IAAI,sBAAqBpP,SAC1B,6BAEI,IAAI,wCAC6B,KACtCH,EAAAA,EAAAA,KAAA,KACEC,UAAU,YACVoP,KAAK,uCACLC,OAAO,SACPC,IAAI,sBAAqBpP,SAC1B,eAEG,6CACuC,KAC3CH,EAAAA,EAAAA,KAAA,UACEC,UAAU,0BACVS,KAAK,SACLR,QAAUM,IACRA,EAAMC,kBACNsN,GAAc,EACd5N,SACH,iBAEQ,8BAGXC,EAAAA,EAAAA,MAAA,KAAGH,UAAU,qBAAoBE,SAAA,CAAC,aACrB,KACXH,EAAAA,EAAAA,KAAA,KACEC,UAAU,kBACVoP,KAAK,0BACLnP,QAAUM,GAAUA,EAAMC,kBAAkBN,SAC7C,6BAOX,CAcO,SAASqP,EAAcC,GAUL,IAVM,MAC7BnC,EAAK,oBACLC,EAAmB,iBACnBG,EAAgB,SAChBlK,EAAQ,aACRkM,EAAY,gBACZC,EAAe,iBACfC,EAAgB,YAChBX,EAAW,qBACXY,GACoBJ,EACpB,OACErP,EAAAA,EAAAA,MAAAiH,EAAAA,SAAA,CAAAlH,SAAA,EACIuN,IAAqBlK,IACrBxD,EAAAA,EAAAA,KAAA,OACEC,UAAW,8BAA6BqN,GAAS,GAAKC,EAAsB,OAAS,IACrF,iBACAlN,MAAO,CACL,4BAAyC,IAAIqP,GAAgB,IAAM,OACnE,gCAA6CG,GAC7C1P,UAEFH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBE,UACpCH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAKrBD,EAAAA,EAAAA,KAAA,OACEC,UAAW,gCAA+BqN,GAAS,GAAKC,EAAsB,OAAS,IACvF,eAAcA,EACdlN,MAAO,CACL,8BAA2C,GAAGsP,MAC9C,4BAAyC,GAAGC,IAC5C,6BAA0CX,EAC1C,oCAAiDzL,EAAW,SAAW,IACvE,0CAAuDA,EAAW,OAAS,OAC3ErD,UAEFH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBE,UACtCC,EAAAA,EAAAA,MAAA,OAAKH,UAAU,qBAAoBE,SAAA,EACjCH,EAAAA,EAAAA,KAAA,QAAMC,UAAU,0BAAyBE,SAAC,YACxCqD,IAAYxD,EAAAA,EAAAA,KAAA,QAAMC,UAAU,qCAM1C,C,wBCnVA,MAAM6P,EAAmB,IAAIC,IAAI,CAC/B,UACA,YACA,SACA,WACA,OACA,MACA,IACA,aAKIC,EAAmBA,IACvB,IAAIC,KAAKC,eAAe,QAAS,CAC/BC,SAAU,mBACVC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,QAAQ,IACPC,OAAO,IAAIC,MCZT,SAASC,IACd,MAAQxM,MAAOT,EAAaU,OAAQwM,IAAiBC,EAAAA,EAAAA,GAAgB,CACnE1M,MAAyB,qBAAX3C,OAAyBA,OAAOsP,WAAa,EAC3D1M,OAA0B,qBAAX5C,OAAyBA,OAAOuP,YAAc,KAExDpB,EAAcqB,IAAmBhJ,EAAAA,EAAAA,UAAS,IAC1CsF,EAAS2D,IAAcjJ,EAAAA,EAAAA,UAAS,IACjCvE,EAAWC,GAAe,IAC1BwN,EAAgBN,GAAgB,IAKtC,MDCuCI,MACvCzO,EAAAA,EAAAA,YAAU,KACR,GAAwB,qBAAb4O,SAA0B,OAErC,IAAIC,EAA+B,KAC/BC,EAA8C,KAElD,MAAMC,EAAgBA,KACfF,GACLJ,EAAgBI,EAAShH,wBAAwBhG,QAAU,EAAE,EAGzDmN,EAAuBA,KAAO,IAADC,EACjC,MAAMC,EAAaN,SAASO,cAA2B,UACnDD,IAAeL,GAKC,QAApBI,EAAAH,SAAoB,IAAAG,GAApBA,EAAsB/G,aACtB2G,EAAWK,EAENL,GAKLC,EAAuB,IAAI9G,eAAe+G,GAC1CD,EAAqB7G,QAAQ4G,GAC7BE,KANEN,EAAgB,IARhBM,GAca,EAGjBC,IAEA,MAAMI,EAAmB,IAAIC,iBAAiBL,GAM9C,OALAI,EAAiBnH,QAAQ2G,SAASU,KAAM,CACtCC,WAAW,EACXC,SAAS,IAGJ,KAAO,IAADC,EACXL,EAAiBlH,aACG,QAApBuH,EAAAX,SAAoB,IAAAW,GAApBA,EAAsBvH,YAAY,CACnC,GACA,CAACuG,GAAiB,EChDrBiB,CAAyBjB,GDmDCC,MAC1B1O,EAAAA,EAAAA,YAAU,KACR,GAAsB,qBAAXf,OAAwB,OAEnCyP,EAAWhB,KACX,MAAMiC,EAAK1Q,OAAO2Q,aAAY,IAAMlB,EAAWhB,MAAqB,KACpE,MAAO,IAAMzO,OAAO4Q,cAAcF,EAAG,GACpC,CAACjB,GAAY,ECzDhBoB,CAAYpB,GAEL,CACLvN,cACAkN,eACAnN,WACAyN,gBACAvB,eACArC,UAEJ,CAkHO,SAASgF,EAAkBtR,GAIH,IAJI,aACjC4P,EAAY,SACZnN,EAAQ,oBACR+J,GAC0BxM,EAC1B,MAAOuR,EAAeC,IAAoBxK,EAAAA,EAAAA,UAAS,IAC5C2F,EAAkB8E,IAAuBzK,EAAAA,EAAAA,WAAS,GAEnD0K,GAAgB3Q,EAAAA,EAAAA,QAAsB,MACtC4Q,GAA0B5Q,EAAAA,EAAAA,SAAO,GACjC6Q,GAAyB7Q,EAAAA,EAAAA,QAAO,GAEhC8Q,GAAkB7O,EAAAA,EAAAA,UAAQ,IAAM0B,KAAKV,IAAmB,GAAf4L,EAAoB,MAAM,CAACA,KAE1ErO,EAAAA,EAAAA,YAAU,KACRiQ,GAAkBM,GAASpN,KAAKjB,IAAIqO,EAAMD,IAAiB,GAC1D,CAACA,ID1E2BnT,KAIH,IAJI,oBAChC8N,EAAmB,wBACnBmF,EAAuB,uBACvBC,GACsBlT,GACtB6C,EAAAA,EAAAA,YAAU,KACR,GAAsB,qBAAXf,QAA0BgM,EAAqB,OAE1D,MAAMuF,EAAgBtS,IACpBkS,EAAwBzP,SAAU,EAC9BzC,EAAMuS,YAAYvS,EAAMwS,gBAAgB,EAGxCC,EAAoBzS,IACxBkS,EAAwBzP,SAAU,EAC9BzC,EAAMuS,YAAYvS,EAAMwS,gBAAgB,EAGxCE,EAAyB1S,IAC7B,MAAM8O,EAAS9O,EAAM8O,OACrB,GAAIA,EAAQ,CACV,MAAM6D,EAAU7D,EAAO6D,QACvB,GACE7D,EAAO8D,mBACK,UAAZD,GACY,aAAZA,GACY,WAAZA,EAEA,MAEJ,EAEIrD,EAAiBuD,IAAI7S,EAAM8S,MAAuB,UAAf9S,EAAM+S,QAC3Cb,EAAwBzP,SAAU,EAClCzC,EAAMwS,iBACR,EAOF,OAJAzR,OAAOiS,iBAAiB,QAASV,EAAc,CAAEW,SAAS,IAC1DlS,OAAOiS,iBAAiB,YAAaP,EAAkB,CAAEQ,SAAS,IAClElS,OAAOiS,iBAAiB,UAAWN,GAE5B,KACL3R,OAAOmS,oBAAoB,QAASZ,GACpCvR,OAAOmS,oBAAoB,YAAaT,GACxC1R,OAAOmS,oBAAoB,UAAWR,EAAsB,CAC7D,GACA,CAAC3F,EAAqBmF,KAEzBpQ,EAAAA,EAAAA,YAAU,KACHiL,GACAmF,EAAwBzP,UAE7B0P,EAAuB1P,QAAU0Q,YAAYC,MA/HP,IAgItClB,EAAwBzP,SAAU,EAAK,GACtC,CAAC0P,EAAwBpF,EAAqBmF,GAAyB,ECqB1EmB,CAAkB,CAChBtG,sBACAmF,0BACAC,2BAGF,MAAMmB,GAAqB7P,EAAAA,EAAAA,cACxB8P,IACMA,GACLxB,GAAkBM,GAASjQ,EAAAA,IAAgBoR,MAAMnB,EAAOkB,EAAO,EAAGnB,IAAiB,GAErF,CAACA,IAGGqB,GAAqBhQ,EAAAA,EAAAA,cACxBzD,IACC,MAAM0T,EAAgBP,YAAYC,MAAQjB,EAAuB1P,QACjE,IAAKsK,GAAuB2G,EAG1B,OAFK3G,IAAqBmF,EAAwBzP,SAAU,QACxDzC,EAAMuS,YAAYvS,EAAMwS,kBAI9B,MAAMmB,EAAa3Q,EAAW,KAAO,EACrCsQ,EAAmBtT,EAAM4T,OAASD,GAC9B3T,EAAMuS,YAAYvS,EAAMwS,gBAAgB,GAE9C,CAACc,EAAoBvG,EAAqB/J,IAGtC6Q,GAAmBpQ,EAAAA,EAAAA,cACtBzD,IAA6C,IAAD8T,EAAAC,EAC3C,MAAML,EAAgBP,YAAYC,MAAQjB,EAAuB1P,QACjE,IAAKsK,GAAuB2G,EAI1B,OAHK3G,IAAqBmF,EAAwBzP,SAAU,GAC5DwP,EAAcxP,QAAU,UACxBzC,EAAMwS,iBAIRP,EAAcxP,QAAmC,QAA5BqR,EAAmB,QAAnBC,EAAG/T,EAAMgU,QAAQ,UAAE,IAAAD,OAAA,EAAhBA,EAAkBE,eAAO,IAAAH,EAAAA,EAAI,IAAI,GAE3D,CAAC/G,IAGGmH,GAAkBzQ,EAAAA,EAAAA,cACrBzD,IAA6C,IAADmU,EAC3C,MAAMT,EAAgBP,YAAYC,MAAQjB,EAAuB1P,QACjE,IAAKsK,GAAuB2G,EAG1B,OAFK3G,IAAqBmF,EAAwBzP,SAAU,QAC5DzC,EAAMwS,iBAIR,GAA6B,MAAzBP,EAAcxP,QAAiB,OAEnC,MAAM2R,EAA2B,QAAnBD,EAAGnU,EAAMgU,QAAQ,UAAE,IAAAG,OAAA,EAAhBA,EAAkBF,QACnC,GAAgB,MAAZG,EAAkB,OAEtB,MAAMb,EAAQtB,EAAcxP,QAAU2R,EAEtCd,EAAmBC,GADAvQ,EAAW,KAAO,IAErCiP,EAAcxP,QAAU2R,EACxBpU,EAAMwS,gBAAgB,GAExB,CAACc,EAAoBvG,EAAqB/J,IAGtCqR,GAAiB5Q,EAAAA,EAAAA,cAAY,KACjCwO,EAAcxP,QAAU,IAAI,GAC3B,KAEHX,EAAAA,EAAAA,YAAU,KACR,IAAKiL,EAEH,YADAiF,GAAqBK,IAAUA,GAAeA,IAIhD,MAAMiC,EAAexC,GAAmC,GAAlBM,EACtCJ,GAAqBK,GAAUA,IAASiC,EAAejC,EAAOiC,GAAc,GAC3E,CAACvH,EAAqB+E,EAAeM,IAYxC,MDzGiC7R,KAGH,IAHI,iBAClC2M,EAAgB,iBAChBqH,GACwBhU,GACxBuB,EAAAA,EAAAA,YAAU,MACR0S,EAAAA,EAAAA,IAAgCtH,GAEzB,MACLsH,EAAAA,EAAAA,KAAgC,EAAM,IAEvC,CAACtH,KAEJpL,EAAAA,EAAAA,YAAU,MACR2S,EAAAA,EAAAA,IAA0BC,OAAO3Q,SAASwQ,GAAoBA,EAAmB,EAAE,GAClF,CAACA,KAEJzS,EAAAA,EAAAA,YAAU,IACD,MACL2S,EAAAA,EAAAA,IAA0B,KAAK,GAEhC,GAAG,ECgFNE,CAAoB,CAClBzH,mBACAqH,kBAPuBhR,EAAAA,EAAAA,UAAQ,IAExB,IAAO,GADuB,IAApB6O,EAAwB,EAAInN,KAAKjB,IAAI8N,EAAgBM,EAAiB,MAEtF,CAACN,EAAeM,MAOZ,CACLN,gBACAM,kBACAlF,mBACAuG,qBACAI,mBACAK,kBACAG,iBAEJ,CC9OA,MA4LA,EA5LkCpV,IAO3B,IAP4B,MACjCE,EAAK,MACL2N,EAAK,QACLoB,EAAO,QACPC,EAAO,WACPyG,EAAU,qBACVpG,GAAuB,GACxBvP,EACC,MAAM4V,GAAWC,EAAAA,EAAAA,OACVC,EAAYC,IAAiBzN,EAAAA,EAAAA,WAAS,IAEvC,YAAEtE,EAAW,aAAEkN,EAAY,SAAEnN,EAAQ,cAAEyN,EAAa,aAAEvB,EAAY,QAAErC,GACxEqD,KAEI,UAAE7B,EAAS,WAAED,EAAU,oBAAErB,GDD1B,SAA6B9N,GAIH,IAJI,MACnC6N,EAAK,WACL8H,EAAU,qBACVpG,GAC4BvP,EAC5B,MAAOmP,EAAY6G,IAAiB1N,EAAAA,EAAAA,UAAS,KACtC2N,EAAkBC,IAAuB5N,EAAAA,EAAAA,WAAS,IAClD6N,EAAoBC,IAAyB9N,EAAAA,EAAAA,WAAS,IACtD+N,EAAeC,IAAoBhO,EAAAA,EAAAA,WAAS,IAC5CwF,EAAqByI,IAA0BjO,EAAAA,EAAAA,WAAS,IACxDkO,EAAgBC,IAAqBnO,EAAAA,EAAAA,WAAS,GAE/C8G,GAAY/M,EAAAA,EAAAA,QAAuB,MACnCqU,GAAsBrU,EAAAA,EAAAA,SAAO,GAgFnC,OA9EAQ,EAAAA,EAAAA,YAAU,KACR,GAAIgL,EAAQ,GAAK6I,EAAoBlT,QAAS,OAG9C,GAFAkT,EAAoBlT,SAAU,EAE1B+L,EAGF,OAFAyG,EAAc,wBACdE,GAAoB,GAItB,MAAMS,EAAW,kBACjB,IAAIC,EAAQ,EACRC,EAAW,EAEf,MAAMC,EAAYC,IACZA,EAAcF,GAAY,KAC5BD,GAAS,EACTZ,EAAcW,EAASK,MAAM,EAAGJ,IAChCC,EAAWE,GAGTH,EAAQD,GACVhP,sBAAsBmP,GAEtBZ,GAAoB,EACtB,EAGFvO,sBAAsBmP,EAAS,GAC9B,CAACjJ,EAAO0B,KAEX1M,EAAAA,EAAAA,YAAU,KACR,GAAIgL,EAAQ,GAAKwI,EAAe,OAEhC,MAAMhN,EAAM,IAAI2B,MAChB3B,EAAIpB,IAAM,wCACVoB,EAAI6B,OAAS,IAAMoL,GAAiB,GAEpC,MAAMW,EAAWC,YAAW,IAAMZ,GAAiB,IAAO,KAC1D,MAAO,IAAMa,aAAaF,EAAS,GAClC,CAACpJ,EAAOwI,KAEXxT,EAAAA,EAAAA,YAAU,KACJwT,IAAkBJ,GAAoB1G,IACxCkH,GAAkB,EACpB,GACC,CAACJ,EAAeJ,EAAkB1G,KAErC1M,EAAAA,EAAAA,YAAU,KACR,IAAK2T,GAAkBL,EAAoB,OAE3CR,IACA,MAAMyB,EAAOF,YAAW,IAAMd,GAAsB,IAAO,KAC3D,MAAO,IAAMe,aAAaC,EAAK,GAC9B,CAACZ,EAAgBL,EAAoBR,KAExC9S,EAAAA,EAAAA,YAAU,KACR,GAAIgL,EAAQ,GAAKC,EAAqB,OAEtC,MAAMuJ,EAAQH,YAAW,KACvBhB,GAAoB,GACpBE,GAAsB,GACtBE,GAAiB,GACjBG,GAAkB,GAClBF,GAAuB,EAAK,GAC3B,MAEH,MAAO,IAAMY,aAAaE,EAAM,GAC/B,CAACxJ,EAAOC,KAEXjL,EAAAA,EAAAA,YAAU,KAAO,IAADyU,EACd,IAAKrB,IAAqBE,IAAuBE,EAAe,OAE/C,QAAjBiB,EAAAlI,EAAU5L,eAAO,IAAA8T,GAAjBA,EAAmB1W,MAAM2W,YAAY,UAAW,KAChD,MAAMC,EAAQN,YAAW,IAAMX,GAAuB,IAAO,KAC7D,MAAO,IAAMY,aAAaK,EAAM,GAC/B,CAACvB,EAAkBE,EAAoBE,IAEnC,CACLjH,YACAD,aACArB,sBAEJ,CCjGyD2J,CAAqB,CAC1E5J,QACA8H,aACApG,0BAGI,cACJsD,EAAa,gBACbM,EAAe,iBACflF,EAAgB,mBAChBuG,EAAkB,iBAClBI,EAAgB,gBAChBK,EAAe,eACfG,GACExC,EAAmB,CACrB1B,eACAnN,WACA+J,wBAII4J,EADSC,EAAAA,GACazX,GACtBG,EAAeC,EAAAA,GAAoBJ,GACnC6N,EAAY2J,EAAa,gBACzBlI,EAAckI,EAAa,0BAC3BjI,EAAYiI,EAAa,gBAEzBrI,GAAY/K,EAAAA,EAAAA,UAAQ,IACpBkN,EAAsBzN,EAAW,QAAU,QACxCA,EAAW,QAAU,SAC3B,CAACyN,EAAezN,IAEb6T,GAAUtT,EAAAA,EAAAA,UAAQ,IACfN,EAAc,IAAM,OAASD,EAAW,OAAS,QACvD,CAACC,EAAaD,IAEX8T,EAAgBrG,EAAgB,OAAS,QAEzClC,GAAkBhL,EAAAA,EAAAA,UAAQ,KAC9B,MAAMwT,EAAe/T,EAAW,EAAI,IAC9BgU,EAAWhU,EAAW,IAAM,IAC5BiU,EAAWjU,EAAW,IAAM,IAC5BkU,EAAWjS,KAAKV,IAAItB,EAAc+T,EAAU,GAC5CG,EAAQlS,KAAKjB,IAAI+S,EAAcG,GAC/BE,EAAiBnS,KAAKV,IAAItB,EAAckU,EAAO,GACrD,OAAOlS,KAAKjB,IAAIiT,EAAUG,EAAe,GACxC,CAACpU,EAAUC,IAERmK,GAAgB7J,EAAAA,EAAAA,UAAuB,KAC3C,MAAMuK,EAAOd,EACb,MAAO,CACLY,KAAMtO,EAAa+X,eACnBxJ,MAAOvO,EAAagY,gBACpBrM,OAAQ3L,EAAaiY,iBACrBzJ,OACAC,KAAMzO,EAAakY,eACpB,GACA,CAACxK,EAAW1N,IAET6N,EAAoBD,EAGpBkC,GAAmB7L,EAAAA,EAAAA,UAAQ,KAC/B,IAAK6O,EAAiB,OAAO,EAE7B,OAAO,EADUnN,KAAKjB,IAAI8N,EAAgB7M,KAAKV,IAAsB,GAAlB6N,EAAuB,GAAI,EAC3D,GAClB,CAACN,EAAeM,IAEbjD,GAAkB5L,EAAAA,EAAAA,UAAQ,KAC9B,MAAMqK,EAAOsB,IAAiBlM,EAAW,GAAK,IACxCyU,EAAazU,GAAY,GAAK,GACpC,OAAOiC,KAAKV,IAAI,GAAIqJ,EAAO6J,EAAW,GACrC,CAACvI,EAAclM,IAElB,OACEpD,EAAAA,EAAAA,MAAA,OACEH,UAAU,iBACVI,MAAO,CACL6D,MAAO,OACPC,OAAQmT,EACR9K,QAAS,OACT0L,cAAe,SACfhL,WAAY,SACZD,eAAgB,SAChBkL,UAAW,aACXxT,SAAU,WACV0S,UACAe,YAAa,OACb,gBAA6BnJ,GAE/BoJ,QAASpE,EACTqE,aAAcjE,EACdkE,YAAa7D,EACb8D,WAAY3D,EACZ3U,QAASA,KACHqN,GAAqB6H,GAAY,EACrCjV,SAAA,EAEAqD,IACAxD,EAAAA,EAAAA,KAACoN,EAAkB,CACjBC,QAASA,EACTC,MAAOA,EACPC,oBAAqBA,EACrBC,UAAWA,KAIfxN,EAAAA,EAAAA,KAAA,OACEC,UAAU,gBACV,iBACAI,MAAO,CACLoY,QAAS/K,EAAmB,EAAI,EAChCyB,WAAYzB,EAAmB,UAAY,SAC3C7B,WAAY,2CACZ1L,UAEFH,EAAAA,EAAAA,KAAC0Y,EAAAA,GAAM,CACLzY,UAAU,eACV0Y,GAAI,CAAEC,OAAO,EAAMC,WAAW,EAAMC,uBAAuB,GAC3DC,IAAK,CAAC,EAAG,GACTpV,OAAQ,CAAE0B,IAAK,GAAI0B,KAAM,GAAKC,IAAK,IAAMrC,SAAU,CAAC,EAAG,EAAG,IAAKxE,UAE/DH,EAAAA,EAAAA,KAACgZ,EAAAA,SAAQ,CAACC,SAAU,KAAK9Y,UACvBH,EAAAA,EAAAA,KAACkZ,EAAW,CAAC3V,OAAQ,CAAEC,WAAUyN,gBAAexN,wBAKtDzD,EAAAA,EAAAA,KAACyN,EAAqB,CACpBC,iBAAkBA,EAClBlK,SAAUA,EACVmK,kBAAmBA,EACnBC,cAAeA,EACfC,gBAAiBA,IAAMwH,EAAS,cAChCvH,eAAgBA,IAAMuH,EAAS,aAC/BtH,aAAcA,IAAMyH,GAAc,MAGpCxV,EAAAA,EAAAA,KAACwO,EAAc,CACb7O,MAAOA,EACP2N,MAAOA,EACPoB,QAASA,EACTC,QAASA,EACTC,WAAYA,EACZC,UAAWA,EACXrL,SAAUA,EACVsL,UAAWA,EACXC,gBAAiBA,EACjBrB,iBAAkBA,EAClBH,oBAAqBA,EACrByB,qBAAsBA,EACtBxB,UAAWA,EACXyB,YAAaA,EACbC,UAAWA,EACXnB,aAAcA,IAAMyH,GAAc,MAGpCxV,EAAAA,EAAAA,KAACwP,EAAc,CACblC,MAAOA,EACPC,oBAAqBA,EACrBG,iBAAkBA,EAClBlK,SAAUA,EACVkM,aAAcA,EACdC,gBAAiBA,EACjBC,iBAAkBA,EAClBX,YAAaA,EACbY,qBA1GuB,8BA6GxB0F,IAAcvV,EAAAA,EAAAA,KAACmZ,EAAW,CAACzZ,QAASA,IAAM8V,GAAc,GAAQ7V,MAAOA,MACpE,C","sources":["data/awards.ts","components/AwardsModal.tsx","pages/home/FlowerScene.tsx","components/AsciiImage.tsx","pages/home/HomeSections.tsx","pages/home/home.concern.hooks.ts","pages/home/home.hooks.ts","pages/home/HomePage.tsx"],"sourcesContent":["export interface AwardItem {\n  title: string\n  year: string\n  description?: string\n  link?: string\n}\n\nexport type AwardsBySection = Record<string, AwardItem[]>\n\nconst awardsData: AwardsBySection = {\n  HIGHLIGHTS: [\n    {\n      title: \"Adobe Digital Edge Awards Winner\",\n      year: \"2024\",\n      description: \"App design featured at Adobe MAX 2024 Conference\",\n      link: \"https://www.behance.net/gallery/205694787/Computer-Science-Pennsylvania-USA\",\n    },\n    {\n      title: \"Stavros Niarchos Foundation Paideia Fellow\",\n      year: \"2024\",\n      description: \"Interdisciplinary fellowship at the University of Pennsylvania\",\n      link: \"https://snfpaideia.upenn.edu/people/ximing-luo/\",\n    },\n    {\n      title: \"Wharton Directed Reading Program\",\n      year: \"2025\",\n      description: \"One of five projects in selective Wharton research program\",\n      link: \"https://sites.google.com/view/wharton-drp/previous/spring-2025\",\n    },\n    {\n      title: \"MIT Reality Hacks 2025 Winner\",\n      year: \"2025\",\n      description: \"Best Hardware Hack, Best Use of OpenBCI\",\n      link: \"\",\n    },\n    {\n      title: \"HackMIT 2024 Winner\",\n      year: \"2024\",\n      description: \"Intersystems Challenge Winner\",\n      link: \"\",\n    },\n    {\n      title: \"NCWIT Aspirations for Computing Award Winner\",\n      year: \"2023\",\n      description: \"Recognized for excellence and leadership in computing\",\n      link: \"https://www.aspirations.org/people/ximing-l/129010\",\n    },\n  ],\n  SCHOLARSHIPS: [\n    {\n      title: \"Catalent Global Scholarship\",\n      year: \"2024\",\n      description: \"\",\n      link: \"\",\n    },\n    {\n      title: \"National Merit Scholar\",\n      year: \"2023\",\n      description: \"\",\n      link: \"https://patch.com/maryland/columbia/14-more-national-merit-scholars-howard-county-named-2023\",\n    },\n    {\n      title: \"Howard County Arts Council's Arts Scholarship\",\n      year: \"2023\",\n      description: \"\",\n    },\n    {\n      title: \"National Society of High School Scholars Scholarship\",\n      year: \"2022\",\n      description: \"\",\n      link: \"https://www.nshss.org/scholarships/current-winners/ximing-luo/\",\n    },\n    {\n      title: \"American Visionary Art Museum Compassion in Action Scholarship\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"Rho Psi Art Scholarship\",\n      year: \"2022\",\n      description: \"\",\n    },\n  ],\n  EXHIBITIONS: [\n    {\n      title: \"SIGGRAPH Conference SpaceTime Gallery\",\n      year: \"2022\",\n      description: \"International 2022 SpaceTime Competition\",\n      link: \"https://education.siggraph.org/spacetime/gallery/2022\",\n    },\n    {\n      title: \"The World Art Institute of Youth – Centre for UNESCO\",\n      year: \"2020\",\n      description: \"\",\n    },\n    {\n      title: \"Museum of Howard County History Exhibition\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"32nd Annual HCPSS Senior Show Exhibition\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"Celebrating Art National Art Anthologies\",\n      year: \"2020-2022\",\n      description: \"\",\n      link: \"\",\n    },\n  ],\n  AWARDS: [\n    {\n      title: \"American Computer Science League State 1st Place\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"Scholastic Art and Writing Awards\",\n      year: \"2023\",\n      description: \"2 Gold Medals, 3 Gold Keys, 8 Silver Key, 8 Honorable Mentions\",\n      link: \"\",\n    },\n    {\n      title: \"Winner, Illustrators of the Future\",\n      year: \"2022\",\n      description: \" ~$20,000 & Art published in bestselling anthology\",\n      link: \"https://writersofthefuture.com/introducing-the-illustrators-of-the-future-winners-of-2023/\",\n    },\n    {\n      title: \"1st place, Reflections Visual Arts Outstanding Interpretation\",\n      year: \"2023\",\n      description: \"\",\n      link: \"\",\n    },\n    {\n      title: \"2nd place, Purdue University National Juried Art Competition\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"1st place, Project Bridge Share Your Story Multimedia Contest\",\n      year: \"2022\",\n      description: \"\",\n    },\n    {\n      title: \"1st place, Space Foundation International Student Art Contest\",\n      year: \"2021\",\n      description: \"\",\n      link: \"\",\n    },\n    {\n      title: \"1st place, 11th Annual International Children's Art Contest\",\n      year: \"2021\",\n      description: \"\",\n    },\n    {\n      title: \"Winner, International Creative Karuta Award\",\n      year: \"2020\",\n      description: \"\",\n    },\n  ],\n}\n\nexport default awardsData\n","import React from \"react\"\nimport awardsData from \"../data/awards\"\nimport { AWARDS_THEME_TOKENS, THEME_VISUAL_TOKENS, type ThemeType } from \"../theme/tokens\"\nimport \"./AwardsModal.css\"\n\ninterface AwardsModalProps {\n  onClose: () => void\n  theme: ThemeType\n}\n\nconst AwardsModal: React.FC<AwardsModalProps> = ({ onClose, theme }) => {\n  const themeTokens = AWARDS_THEME_TOKENS[theme]\n  const visualTokens = THEME_VISUAL_TOKENS[theme]\n\n  return (\n    <div className=\"awards-modal-backdrop\" onClick={onClose}>\n      <div\n        className=\"awards-modal-panel\"\n        style={{\n          [\"--awards-modal-surface\" as string]: visualTokens.surfaceAwardsModal,\n          [\"--awards-item-surface\" as string]: visualTokens.surfaceAwardsItem,\n          [\"--awards-text\" as string]: themeTokens[\"--color-text\"],\n          [\"--awards-accent\" as string]: themeTokens[\"--color-accent-primary\"],\n          [\"--awards-border\" as string]: themeTokens[\"--border-color\"],\n          [\"--awards-button-bg-light\" as string]: themeTokens[\"--button-bg-light\"],\n        }}\n        onClick={(event) => event.stopPropagation()}\n      >\n        <div className=\"awards-modal-header\">\n          <h2 className=\"awards-modal-title\">AWARDS &amp; RECOGNITION</h2>\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"awards-modal-close\"\n            aria-label=\"Close awards\"\n          >\n            ×\n          </button>\n        </div>\n\n        <div className=\"awards-modal-sections\">\n          {Object.entries(awardsData).map(([section, awards]) => (\n            <section key={section}>\n              <h3 className=\"awards-modal-section-title\">{section}</h3>\n              <div className=\"awards-modal-list\">\n                {awards.map((award) => {\n                  const hasLink = Boolean(award.link?.trim())\n\n                  return (\n                    <div\n                      key={`${section}-${award.title}-${award.year}`}\n                      className={`awards-modal-item ${hasLink ? \"awards-modal-item--linked\" : \"\"}`}\n                      onClick={(event) => {\n                        event.stopPropagation()\n                        if (hasLink) window.open(award.link, \"_blank\", \"noopener,noreferrer\")\n                      }}\n                    >\n                      <div className=\"awards-modal-item-header\">\n                        <h4 className=\"awards-modal-item-title\">\n                          {award.title}\n                          {hasLink && <span className=\"awards-modal-item-link-icon\">↗️</span>}\n                        </h4>\n                        <span className=\"awards-modal-item-year\">{award.year}</span>\n                      </div>\n\n                      {award.description && (\n                        <p className=\"awards-modal-item-description\">{award.description}</p>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            </section>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AwardsModal\n","import React, { useCallback, useEffect, useMemo, useRef } from \"react\"\nimport { useThree } from \"@react-three/fiber\"\nimport { Environment, useAnimations, useGLTF } from \"@react-three/drei\"\nimport * as THREE from \"three\"\n\nexport interface FlowerSceneLayout {\n  isMobile: boolean\n  isSmallScreen: boolean\n  windowWidth: number\n}\n\ninterface FlowerModelProps {\n  url?: string\n  onReady?: (group: THREE.Group) => void\n  uprightRotation?: [number, number, number]\n}\n\nconst FlowerModel: React.FC<FlowerModelProps> = ({\n  url = \"/models/blue_flower.glb\",\n  onReady,\n  uprightRotation = [1, 0, 0],\n}) => {\n  const group = useRef<THREE.Group>(null!)\n  const inner = useRef<THREE.Group>(null!)\n  const { scene, animations } = useGLTF(url) as unknown as {\n    scene: THREE.Group\n    animations: THREE.AnimationClip[]\n  }\n  const { actions, names } = useAnimations(animations, group)\n\n  useEffect(() => {\n    names.forEach((name) => {\n      const action = actions[name]\n      if (!action) return\n      action.reset()\n      action.setLoop(THREE.LoopRepeat, Infinity)\n      action.play()\n    })\n    return () => {\n      names.forEach((name) => actions[name]?.stop())\n    }\n  }, [actions, names])\n\n  useEffect(() => {\n    if (group.current) onReady?.(group.current)\n  }, [onReady])\n\n  return (\n    <group ref={group} dispose={null}>\n      <group ref={inner} rotation={uprightRotation}>\n        <primitive object={scene} />\n      </group>\n    </group>\n  )\n}\n\nconst FlowerScene: React.FC<{ layout: FlowerSceneLayout }> = ({\n  layout: { isMobile, windowWidth },\n}) => {\n  const modelRef = useRef<THREE.Group | null>(null)\n  const { camera, size } = useThree()\n  const sizeMultiplier = useMemo(() => {\n    if (windowWidth >= 768) return 3.2\n    return 1.65\n  }, [windowWidth])\n\n  const frameCentered = useCallback(() => {\n    if (!modelRef.current) return false\n    if (size.width <= 0 || size.height <= 0) return false\n    const obj = modelRef.current\n\n    const box = new THREE.Box3().setFromObject(obj)\n    if (!box || !isFinite(box.min.x)) {\n      const persp = camera as THREE.PerspectiveCamera\n      persp.position.set(0, 0.5, 6)\n      persp.lookAt(0, 0.5, 0)\n      persp.updateProjectionMatrix()\n      return false\n    }\n\n    const width = box.max.x - box.min.x\n    const height = box.max.y - box.min.y\n    const depth = box.max.z - box.min.z\n\n    const targetCenter = new THREE.Vector3(\n      (box.min.x + box.max.x) * 0.5,\n      (box.min.y + box.max.y) * 0.5,\n      (box.min.z + box.max.z) * 0.5,\n    )\n\n    const baseFit = isMobile ? 0.65 : 0.55\n    const fit = baseFit * sizeMultiplier\n\n    const persp = camera as THREE.PerspectiveCamera\n    const fov = THREE.MathUtils.degToRad(persp.fov)\n    const viewAspect = size.width / size.height\n    const neededHalfHeight = Math.max(height * 0.5, (width * 0.5) / viewAspect)\n    const distance = neededHalfHeight / (Math.tan(fov / 2) * fit)\n\n    const camPos = targetCenter\n      .clone()\n      .add(new THREE.Vector3(-0.28, -0.55, 0).normalize().multiplyScalar(distance))\n\n    const viewDir = targetCenter.clone().sub(camPos).normalize()\n    const cameraUp = (camera as THREE.PerspectiveCamera).up.clone().normalize()\n    const right = new THREE.Vector3().crossVectors(viewDir, cameraUp).normalize()\n    const trueUp = new THREE.Vector3().crossVectors(right, viewDir).normalize()\n\n    const cameraDistance = camPos.distanceTo(targetCenter)\n    const viewportHalfHeight = Math.tan(fov / 2) * cameraDistance\n    const viewportHalfWidth = viewportHalfHeight * viewAspect\n\n    const verticalFactor = isMobile ? 1.9 : 2.95\n    const verticalOffset = viewportHalfHeight * verticalFactor\n    const horizontalOffset = isMobile ? 0 : viewportHalfWidth * 0.002\n\n    const panOffset = new THREE.Vector3()\n      .add(right.clone().multiplyScalar(horizontalOffset))\n      .add(trueUp.clone().multiplyScalar(verticalOffset))\n\n    camPos.add(panOffset)\n    const newTarget = targetCenter.clone().add(panOffset)\n\n    persp.position.copy(camPos)\n    persp.near = Math.max(0.001, cameraDistance / 100)\n    persp.far = cameraDistance * 100 + depth\n    persp.updateProjectionMatrix()\n    persp.lookAt(newTarget)\n    return true\n  }, [camera, isMobile, size.height, size.width, sizeMultiplier])\n\n  const handleReady = useCallback(\n    (group: THREE.Group) => {\n      modelRef.current = group\n      let attempts = 0\n      const tryFrame = () => {\n        attempts += 1\n        const didFrame = frameCentered()\n        if (!didFrame && attempts < 12) {\n          requestAnimationFrame(tryFrame)\n        }\n      }\n      requestAnimationFrame(tryFrame)\n    },\n    [frameCentered],\n  )\n\n  useEffect(() => {\n    frameCentered()\n  }, [size.width, size.height, frameCentered])\n\n  return (\n    <>\n      <ambientLight intensity={0.9} />\n      <directionalLight position={[5, 10, 5]} intensity={1.1} />\n      <Environment preset=\"studio\" />\n      <FlowerModel onReady={handleReady} />\n    </>\n  )\n}\n\nuseGLTF.preload(\"/models/blue_flower.glb\")\n\nexport default FlowerScene\n","import type React from \"react\"\nimport { useState, useEffect, useRef, useCallback } from \"react\"\nimport useIsMobile from \"../hooks/useIsMobile\"\nimport { THEME_VISUAL_TOKENS, type ThemeType } from \"../theme/tokens\"\n\ninterface AsciiImageProps {\n  src: string\n  alt: string\n  size: string\n  theme: ThemeType\n  borderWidth?: string\n  className?: string\n}\n\nconst ASCII_CHARS = \" .,:;i1tfLCG08@\"\nconst GLYPH_ASPECT = 0.55\nconst AsciiImage: React.FC<AsciiImageProps> = ({\n  src,\n  alt,\n  size,\n  theme,\n  borderWidth = \"3px\",\n  className = \"\",\n}) => {\n  const visualTokens = THEME_VISUAL_TOKENS[theme]\n  // state\n  const [asciiData, setAsciiData] = useState<string[]>([])\n  const [baseAscii, setBaseAscii] = useState<string[]>([])\n  const [isHovered, setIsHovered] = useState(false)\n  const [isTapped, setIsTapped] = useState(false)\n  const [isTransitioning, setIsTransitioning] = useState(false)\n  const isMobile = useIsMobile(768)\n\n  // refs\n  const containerRef = useRef<HTMLDivElement>(null)\n  const imageRef = useRef<HTMLImageElement>(null)\n  const animFrameRef = useRef<number>(0)\n  const imgRef = useRef<HTMLImageElement | null>(null)\n\n  // Convert the given image to ASCII.\n  const convertToAscii = useCallback(\n    (img: HTMLImageElement, W: number, H: number, step: number) => {\n      const off = new OffscreenCanvas(W, H)\n      const ctx = off.getContext(\"2d\", {\n        willReadFrequently: false,\n      }) as OffscreenCanvasRenderingContext2D\n      if (!ctx) return []\n\n      ctx.drawImage(img, 0, 0, W, H)\n      const { data } = ctx.getImageData(0, 0, W, H)\n\n      const ascii: string[] = []\n      const stepX = step\n      const stepY = Math.max(1, Math.floor(step / GLYPH_ASPECT))\n\n      for (let y = 0; y < H; y += stepY) {\n        let line = \"\"\n        for (let x = 0; x < W; x += stepX) {\n          const idx = (y * W + x) * 4\n          const brightness = (data[idx] + data[idx + 1] + data[idx + 2]) / 3 / 255\n          const charIdx = Math.floor(brightness * (ASCII_CHARS.length - 1))\n          line += ASCII_CHARS[charIdx]\n        }\n        ascii.push(line)\n      }\n      return ascii\n    },\n    [],\n  )\n\n  // Calculate ASCII art based on current container size\n  const calculateAsciiArt = useCallback(() => {\n    if (!imgRef.current || !containerRef.current) return\n\n    const box = containerRef.current.getBoundingClientRect()\n    const dim = Math.floor(box.width * 3.0)\n    const fontPx = 6\n    const step = Math.max(1, Math.floor(fontPx / GLYPH_ASPECT))\n\n    const ascii = convertToAscii(imgRef.current, dim, dim, step)\n    setBaseAscii(ascii)\n    setAsciiData(ascii)\n  }, [convertToAscii])\n\n  // Set up resize observer\n  useEffect(() => {\n    if (!containerRef.current) return\n\n    const resizeObserver = new ResizeObserver(() => {\n      if (imgRef.current) {\n        calculateAsciiArt()\n      }\n    })\n\n    resizeObserver.observe(containerRef.current)\n    return () => resizeObserver.disconnect()\n  }, [calculateAsciiArt])\n\n  // Load + preprocess once\n  useEffect(() => {\n    const img = new Image()\n    img.crossOrigin = \"anonymous\"\n    img.src = src\n    img.onload = () => {\n      // display photo\n      if (imageRef.current) imageRef.current.src = src\n\n      imgRef.current = img\n      calculateAsciiArt()\n    }\n  }, [calculateAsciiArt, src])\n\n  // Hover/tap handlers\n  const startScramble = () => {\n    let frame = 0\n    const MAX = 15\n\n    const tick = () => {\n      frame += 1\n      if (frame >= MAX) {\n        setAsciiData(baseAscii)\n        setIsTransitioning(false)\n        return\n      }\n\n      const progress = frame / MAX\n      const scrambled = baseAscii.map((ln) =>\n        ln\n          .split(\"\")\n          .map((c) =>\n            Math.random() > progress\n              ? ASCII_CHARS[Math.floor(Math.random() * ASCII_CHARS.length)]\n              : c,\n          )\n          .join(\"\"),\n      )\n      setAsciiData(scrambled)\n      animFrameRef.current = requestAnimationFrame(tick)\n    }\n\n    animFrameRef.current = requestAnimationFrame(tick)\n  }\n\n  const handleMouseEnter = () => {\n    if (isMobile || baseAscii.length === 0) return\n    setIsHovered(true)\n    setIsTransitioning(true)\n    startScramble()\n  }\n\n  const handleMouseLeave = () => {\n    if (isMobile) return\n    cancelAnimationFrame(animFrameRef.current)\n    setAsciiData(baseAscii)\n    setIsHovered(false)\n    setIsTransitioning(false)\n  }\n\n  const handleTap = () => {\n    if (!isMobile || baseAscii.length === 0) return\n    setIsTapped(!isTapped)\n    if (!isTapped) {\n      setIsTransitioning(true)\n      startScramble()\n    } else {\n      cancelAnimationFrame(animFrameRef.current)\n      setAsciiData(baseAscii)\n      setIsTransitioning(false)\n    }\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={`ascii-image-container ${className}`}\n      style={{\n        width: size,\n        height: size,\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        position: \"relative\",\n        flexShrink: 0,\n        border: `${borderWidth} solid ${visualTokens.asciiBorder}`,\n        boxShadow: `0 0 20px ${visualTokens.asciiGlow}`,\n        transition: \"box-shadow 0.3s ease\",\n        cursor: isMobile ? \"pointer\" : undefined,\n      }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onClick={handleTap}\n    >\n      {/* Photo */}\n      <img\n        ref={imageRef}\n        src={src || \"/placeholder.svg\"}\n        alt={alt}\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          objectFit: \"cover\",\n          display: isHovered || isTapped ? \"none\" : \"block\",\n        }}\n      />\n\n      {/* ASCII overlay */}\n      {(isHovered || isTapped || isTransitioning) && (\n        <div\n          style={{\n            position: \"absolute\",\n            inset: 0,\n            background: \"#000\",\n            color: visualTokens.asciiText,\n            fontSize: \"6px\",\n            lineHeight: \"6px\",\n            fontFamily: \"monospace\",\n            whiteSpace: \"pre\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            overflow: \"hidden\",\n          }}\n        >\n          <pre style={{ margin: 0 }}>{asciiData.join(\"\\n\")}</pre>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default AsciiImage\n","import type React from \"react\"\nimport AsciiImage from \"../../components/AsciiImage\"\nimport type { ThemeType } from \"../../theme/tokens\"\n\nexport interface BubblePalette {\n  base: string\n  hover: string\n  border: string\n  text: string\n  glow: string\n}\n\ninterface HomeDesktopEstRailProps {\n  estTime: string\n  phase: number\n  isAnimationComplete: boolean\n  textColor: string\n}\n\nexport function HomeDesktopEstRail({\n  estTime,\n  phase,\n  isAnimationComplete,\n  textColor,\n}: HomeDesktopEstRailProps) {\n  return (\n    <div\n      className={`home-est-rail fade ${phase >= 4 && isAnimationComplete ? \"show\" : \"\"}`}\n      aria-hidden={!isAnimationComplete}\n      style={{ [\"--home-est-rail-color\" as string]: textColor }}\n    >\n      est • {estTime}\n    </div>\n  )\n}\n\ninterface HomeNavigationBubblesProps {\n  isFlowerRevealed: boolean\n  isMobile: boolean\n  navButtonsEnabled: boolean\n  bubblePalette: BubblePalette\n  onOpenPortfolio: () => void\n  onOpenCreative: () => void\n  onOpenAwards: () => void\n}\n\nexport function HomeNavigationBubbles({\n  isFlowerRevealed,\n  isMobile,\n  navButtonsEnabled,\n  bubblePalette,\n  onOpenPortfolio,\n  onOpenCreative,\n  onOpenAwards,\n}: HomeNavigationBubblesProps) {\n  const items = [\n    { label: \"Projects\", onClick: onOpenPortfolio },\n    { label: \"Artwork\", onClick: onOpenCreative },\n    { label: \"Awards\", onClick: onOpenAwards },\n  ]\n\n  return (\n    <div\n      className=\"home-nav-overlay\"\n      aria-hidden={!isFlowerRevealed}\n      style={{\n        [\"--home-nav-overlay-opacity\" as string]: isFlowerRevealed ? \"1\" : \"0\",\n      }}\n    >\n      <div\n        className=\"home-nav-bubbles\"\n        style={{\n          [\"--home-nav-direction\" as string]: isMobile ? \"column\" : \"row\",\n          [\"--home-nav-gap\" as string]: `${isMobile ? 16 : 24}px`,\n          [\"--home-nav-offset\" as string]: isMobile ? \"-21vh\" : \"-24vh\",\n          [\"--home-nav-pointer-events\" as string]: isFlowerRevealed ? \"auto\" : \"none\",\n        }}\n      >\n        {items.map((item) => (\n          <button\n            key={item.label}\n            disabled={!navButtonsEnabled}\n            type=\"button\"\n            onClick={(event) => {\n              event.stopPropagation()\n              if (!navButtonsEnabled) return\n              item.onClick()\n            }}\n            className=\"home-nav-bubble\"\n            style={{\n              [\"--home-bubble-bg\" as string]: bubblePalette.base,\n              [\"--home-bubble-hover-bg\" as string]: bubblePalette.hover,\n              [\"--home-bubble-border\" as string]: bubblePalette.border,\n              [\"--home-bubble-text\" as string]: bubblePalette.text,\n              [\"--home-bubble-glow\" as string]: bubblePalette.glow,\n              [\"--home-bubble-shadow\" as string]: `0 12px 30px ${bubblePalette.glow}`,\n              [\"--home-bubble-shadow-hover\" as string]: `0 18px 45px ${bubblePalette.glow}`,\n              [\"--home-bubble-padding\" as string]: isMobile ? \"14px 42px\" : \"18px 60px\",\n              [\"--home-bubble-width\" as string]: isMobile ? \"min(260px, 85vw)\" : \"auto\",\n              [\"--home-bubble-font-size\" as string]: `${isMobile ? 14 : 16}px`,\n            }}\n          >\n            {item.label}\n          </button>\n        ))}\n      </div>\n    </div>\n  )\n}\n\ninterface HomeIntroPanelProps {\n  theme: ThemeType\n  phase: number\n  roleTop: string\n  roleBot: string\n  typingText: string\n  typingRef: React.RefObject<HTMLDivElement | null>\n  isMobile: boolean\n  imageSize: string\n  contentMaxWidth: number\n  isFlowerRevealed: boolean\n  isAnimationComplete: boolean\n  isNavigatingFromPage: boolean\n  textColor: string\n  accentColor: string\n  linkColor: string\n  onOpenAwards: () => void\n}\n\nexport function HomeIntroPanel({\n  theme,\n  phase,\n  roleTop,\n  roleBot,\n  typingText,\n  typingRef,\n  isMobile,\n  imageSize,\n  contentMaxWidth,\n  isFlowerRevealed,\n  isAnimationComplete,\n  isNavigatingFromPage,\n  textColor,\n  accentColor,\n  linkColor,\n  onOpenAwards,\n}: HomeIntroPanelProps) {\n  return (\n    <div\n      className=\"content-layer home-intro-panel\"\n      style={{\n        [\"--home-intro-max-width\" as string]: `${contentMaxWidth}px`,\n        [\"--home-intro-panel-opacity\" as string]: isFlowerRevealed ? \"0\" : \"1\",\n        [\"--home-intro-panel-visibility\" as string]: isFlowerRevealed ? \"hidden\" : \"visible\",\n      }}\n    >\n      {!isAnimationComplete && !isNavigatingFromPage && (\n        <div\n          className=\"home-typing-intro\"\n          ref={typingRef}\n          style={{\n            [\"--home-typing-font-size\" as string]: `${isMobile ? 40 : 48}px`,\n            [\"--home-typing-color\" as string]: accentColor,\n          }}\n        >\n          {typingText}\n          <span className=\"typing-cursor\" />\n        </div>\n      )}\n\n      <div\n        className={`fade home-hero ${phase >= 1 && isAnimationComplete ? \"show\" : \"\"}`}\n        style={{\n          [\"--home-hero-direction\" as string]: isMobile ? \"column\" : \"row\",\n          [\"--home-hero-gap\" as string]: `${isMobile ? 5 : 20}px`,\n          [\"--home-hero-margin-top\" as string]: `${isMobile ? 30 : 20}px`,\n          [\"--home-hero-margin-bottom\" as string]: `${isMobile ? 12 : 0}px`,\n          [\"--home-hero-text-align\" as string]: isMobile ? \"center\" : \"left\",\n          [\"--home-hero-line-color\" as string]: textColor,\n          [\"--home-hero-line-top-size\" as string]: `${isMobile ? 14 : 16}px`,\n          [\"--home-hero-line-top-margin\" as string]: isMobile ? \"5px 0\" : \"10px 0\",\n          [\"--home-hero-line-bottom-size\" as string]: `${isMobile ? 13.5 : 16}px`,\n          [\"--home-hero-line-bottom-margin\" as string]: isMobile ? \"0px 0\" : \"10px 0\",\n          [\"--home-hero-title-size\" as string]: `${isMobile ? 25 : 32}px`,\n          [\"--home-hero-title-color\" as string]: accentColor,\n          [\"--home-hero-title-margin\" as string]: isMobile ? \"5px 0\" : \"10px 0\",\n          visibility: isAnimationComplete ? \"visible\" : \"hidden\",\n        }}\n      >\n        <div className={`fade ${phase >= 2 && isAnimationComplete ? \"show\" : \"\"}`}>\n          <AsciiImage src=\"/images/ximing.jpg\" alt=\"Ximing Luo\" size={imageSize} theme={theme} />\n        </div>\n\n        <div className=\"home-hero-copy\">\n          <p\n            className={`fade home-hero-line home-hero-line--top ${phase >= 3 && isAnimationComplete ? \"show\" : \"\"}`}\n          >\n            {roleTop}\n          </p>\n\n          <h1 className={`fade home-hero-title ${phase >= 2 && isAnimationComplete ? \"show\" : \"\"}`}>\n            Hi, I&apos;m Ximing!\n          </h1>\n\n          <p\n            className={`fade home-hero-line home-hero-line--bottom ${phase >= 3 && isAnimationComplete ? \"show\" : \"\"}`}\n          >\n            {roleBot}\n          </p>\n        </div>\n      </div>\n\n      <div\n        className={`fade home-bio ${phase >= 4 && isAnimationComplete ? \"show\" : \"\"}`}\n        style={{\n          [\"--home-bio-font-size\" as string]: `${isMobile ? 12 : 14}px`,\n          [\"--home-bio-line-height\" as string]: `${isMobile ? 1.1 : 1.4}`,\n          [\"--home-bio-color\" as string]: textColor,\n          [\"--home-bio-padding\" as string]: isMobile ? \"0 10px\" : \"0\",\n          [\"--home-bio-paragraph-margin\" as string]: isMobile ? \"0px\" : \"20px\",\n          [\"--home-link-color\" as string]: linkColor,\n        }}\n      >\n        <p className=\"home-bio-paragraph home-bio-paragraph--spaced\">\n          I&apos;m a student at the University of Pennsylvania, studying Computer Science (\n          <a\n            className=\"home-link\"\n            href=\"http://cg.cis.upenn.edu/dmd.html\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Digital Media Design\n          </a>\n          ) and Economics.\n        </p>\n        <p className=\"home-bio-paragraph home-bio-paragraph--spaced\">\n          I am interested in computer graphics, AI/ML, and fullstack. Previously, I did software at{\" \"}\n          <a\n            className=\"home-link\"\n            href=\"https://www.apollo.com/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Apollo Global Management\n          </a>{\" \"}\n          and I currently teach iOS Programming{\" \"}\n          <a\n            className=\"home-link\"\n            href=\"https://www.seas.upenn.edu/~cis1951/\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            (CIS 1951)\n          </a>\n          . My work has been recognized by Adobe and{\" \"}\n          <button\n            className=\"home-inline-link-button\"\n            type=\"button\"\n            onClick={(event) => {\n              event.stopPropagation()\n              onOpenAwards()\n            }}\n          >\n            other awards\n          </button>\n          . Feel free to explore!\n        </p>\n        <p className=\"home-bio-paragraph\">\n          Say hello:{\" \"}\n          <a\n            className=\"home-email-link\"\n            href=\"mailto:ximluo@upenn.edu\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            ximluo@upenn.edu\n          </a>\n        </p>\n      </div>\n    </div>\n  )\n}\n\ninterface HomeScrollCuesProps {\n  phase: number\n  isAnimationComplete: boolean\n  isFlowerRevealed: boolean\n  isMobile: boolean\n  footerHeight: number\n  scrollCueBottom: number\n  scrollCueOpacity: number\n  accentColor: string\n  scrollIndicatorColor: string\n}\n\nexport function HomeScrollCues({\n  phase,\n  isAnimationComplete,\n  isFlowerRevealed,\n  isMobile,\n  footerHeight,\n  scrollCueBottom,\n  scrollCueOpacity,\n  accentColor,\n  scrollIndicatorColor,\n}: HomeScrollCuesProps) {\n  return (\n    <>\n      {!isFlowerRevealed && !isMobile && (\n        <div\n          className={`fade home-scroll-side-cue ${phase >= 4 && isAnimationComplete ? \"show\" : \"\"}`}\n          aria-hidden\n          style={{\n            [\"--home-scroll-side-bottom\" as string]: `${(footerHeight || 70) + 20}px`,\n            [\"--home-scroll-indicator-color\" as string]: scrollIndicatorColor,\n          }}\n        >\n          <div className=\"home-scroll-indicator\">\n            <div className=\"home-scroll-dots\" />\n          </div>\n        </div>\n      )}\n\n      <div\n        className={`fade home-scroll-center-cue ${phase >= 4 && isAnimationComplete ? \"show\" : \"\"}`}\n        aria-hidden={!isAnimationComplete}\n        style={{\n          [\"--home-scroll-center-bottom\" as string]: `${scrollCueBottom}px`,\n          [\"--home-scroll-cue-opacity\" as string]: `${scrollCueOpacity}`,\n          [\"--home-scroll-center-color\" as string]: accentColor,\n          [\"--home-scroll-center-text-padding\" as string]: isMobile ? \"0 12px\" : \"0\",\n          [\"--home-scroll-center-text-margin-bottom\" as string]: isMobile ? \"30px\" : \"8px\",\n        }}\n      >\n        <div className=\"home-scroll-center-fade\">\n          <div className=\"home-center-scroll\">\n            <span className=\"home-center-scroll-text\">Scroll</span>\n            {!isMobile && <span className=\"home-center-scroll-line\" />}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n","import { useEffect, type MutableRefObject } from \"react\"\nimport { dispatchHomeFlowerNavVisibility, dispatchHomeFlowerOpacity } from \"./home.events\"\n\nconst SCROLL_LOCK_KEYS = new Set([\n  \"ArrowUp\",\n  \"ArrowDown\",\n  \"PageUp\",\n  \"PageDown\",\n  \"Home\",\n  \"End\",\n  \" \",\n  \"Spacebar\",\n])\n\nexport const LOCKED_GESTURE_COOLDOWN_MS = 350\n\nconst getEstTimeString = () =>\n  new Intl.DateTimeFormat(\"en-US\", {\n    timeZone: \"America/New_York\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  }).format(new Date())\n\nexport const useHomeFooterMeasurement = (setFooterHeight: (value: number) => void) => {\n  useEffect(() => {\n    if (typeof document === \"undefined\") return\n\n    let footerEl: HTMLElement | null = null\n    let footerResizeObserver: ResizeObserver | null = null\n\n    const measureFooter = () => {\n      if (!footerEl) return\n      setFooterHeight(footerEl.getBoundingClientRect().height || 0)\n    }\n\n    const attachFooterObserver = () => {\n      const nextFooter = document.querySelector<HTMLElement>(\"footer\")\n      if (nextFooter === footerEl) {\n        measureFooter()\n        return\n      }\n\n      footerResizeObserver?.disconnect()\n      footerEl = nextFooter\n\n      if (!footerEl) {\n        setFooterHeight(0)\n        return\n      }\n\n      footerResizeObserver = new ResizeObserver(measureFooter)\n      footerResizeObserver.observe(footerEl)\n      measureFooter()\n    }\n\n    attachFooterObserver()\n\n    const mutationObserver = new MutationObserver(attachFooterObserver)\n    mutationObserver.observe(document.body, {\n      childList: true,\n      subtree: true,\n    })\n\n    return () => {\n      mutationObserver.disconnect()\n      footerResizeObserver?.disconnect()\n    }\n  }, [setFooterHeight])\n}\n\nexport const useEstClock = (setEstTime: (value: string) => void) => {\n  useEffect(() => {\n    if (typeof window === \"undefined\") return\n\n    setEstTime(getEstTimeString())\n    const id = window.setInterval(() => setEstTime(getEstTimeString()), 1000)\n    return () => window.clearInterval(id)\n  }, [setEstTime])\n}\n\ninterface HomeScrollLockOptions {\n  isAnimationComplete: boolean\n  sawScrollWhileLockedRef: MutableRefObject<boolean>\n  ignoreGesturesUntilRef: MutableRefObject<number>\n}\n\nexport const useHomeScrollLock = ({\n  isAnimationComplete,\n  sawScrollWhileLockedRef,\n  ignoreGesturesUntilRef,\n}: HomeScrollLockOptions) => {\n  useEffect(() => {\n    if (typeof window === \"undefined\" || isAnimationComplete) return\n\n    const preventWheel = (event: WheelEvent) => {\n      sawScrollWhileLockedRef.current = true\n      if (event.cancelable) event.preventDefault()\n    }\n\n    const preventTouchMove = (event: TouchEvent) => {\n      sawScrollWhileLockedRef.current = true\n      if (event.cancelable) event.preventDefault()\n    }\n\n    const preventKeyboardScroll = (event: KeyboardEvent) => {\n      const target = event.target as HTMLElement | null\n      if (target) {\n        const tagName = target.tagName\n        if (\n          target.isContentEditable ||\n          tagName === \"INPUT\" ||\n          tagName === \"TEXTAREA\" ||\n          tagName === \"SELECT\"\n        ) {\n          return\n        }\n      }\n\n      if (SCROLL_LOCK_KEYS.has(event.key) || event.code === \"Space\") {\n        sawScrollWhileLockedRef.current = true\n        event.preventDefault()\n      }\n    }\n\n    window.addEventListener(\"wheel\", preventWheel, { passive: false })\n    window.addEventListener(\"touchmove\", preventTouchMove, { passive: false })\n    window.addEventListener(\"keydown\", preventKeyboardScroll)\n\n    return () => {\n      window.removeEventListener(\"wheel\", preventWheel)\n      window.removeEventListener(\"touchmove\", preventTouchMove)\n      window.removeEventListener(\"keydown\", preventKeyboardScroll)\n    }\n  }, [isAnimationComplete, sawScrollWhileLockedRef])\n\n  useEffect(() => {\n    if (!isAnimationComplete) return\n    if (!sawScrollWhileLockedRef.current) return\n\n    ignoreGesturesUntilRef.current = performance.now() + LOCKED_GESTURE_COOLDOWN_MS\n    sawScrollWhileLockedRef.current = false\n  }, [ignoreGesturesUntilRef, isAnimationComplete, sawScrollWhileLockedRef])\n}\n\ninterface HomeFlowerBridgeOptions {\n  isFlowerRevealed: boolean\n  flowerSvgOpacity: number\n}\n\nexport const useHomeFlowerBridge = ({\n  isFlowerRevealed,\n  flowerSvgOpacity,\n}: HomeFlowerBridgeOptions) => {\n  useEffect(() => {\n    dispatchHomeFlowerNavVisibility(isFlowerRevealed)\n\n    return () => {\n      dispatchHomeFlowerNavVisibility(false)\n    }\n  }, [isFlowerRevealed])\n\n  useEffect(() => {\n    dispatchHomeFlowerOpacity(Number.isFinite(flowerSvgOpacity) ? flowerSvgOpacity : 0)\n  }, [flowerSvgOpacity])\n\n  useEffect(() => {\n    return () => {\n      dispatchHomeFlowerOpacity(null)\n    }\n  }, [])\n}\n","import type React from \"react\"\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\"\nimport * as THREE from \"three\"\nimport useViewportSize from \"../../hooks/useViewportSize\"\nimport {\n  useEstClock,\n  useHomeFlowerBridge,\n  useHomeFooterMeasurement,\n  useHomeScrollLock,\n} from \"./home.concern.hooks\"\n\nexport function useHomeViewportState() {\n  const { width: windowWidth, height: windowHeight } = useViewportSize({\n    width: typeof window !== \"undefined\" ? window.innerWidth : 0,\n    height: typeof window !== \"undefined\" ? window.innerHeight : 0,\n  })\n  const [footerHeight, setFooterHeight] = useState(0)\n  const [estTime, setEstTime] = useState(\"\")\n  const isMobile = windowWidth <= 768\n  const isSmallScreen = windowHeight <= 700\n\n  useHomeFooterMeasurement(setFooterHeight)\n  useEstClock(setEstTime)\n\n  return {\n    windowWidth,\n    windowHeight,\n    isMobile,\n    isSmallScreen,\n    footerHeight,\n    estTime,\n  }\n}\n\ninterface UseHomeIntroSequenceOptions {\n  phase: number\n  onScramble: () => void\n  isNavigatingFromPage: boolean\n}\n\nexport function useHomeIntroSequence({\n  phase,\n  onScramble,\n  isNavigatingFromPage,\n}: UseHomeIntroSequenceOptions) {\n  const [typingText, setTypingText] = useState(\"\")\n  const [isTypingComplete, setIsTypingComplete] = useState(false)\n  const [isScrambleComplete, setIsScrambleComplete] = useState(false)\n  const [isImageLoaded, setIsImageLoaded] = useState(false)\n  const [isAnimationComplete, setIsAnimationComplete] = useState(false)\n  const [shouldScramble, setShouldScramble] = useState(false)\n\n  const typingRef = useRef<HTMLDivElement>(null)\n  const animationRunningRef = useRef(false)\n\n  useEffect(() => {\n    if (phase < 1 || animationRunningRef.current) return\n    animationRunningRef.current = true\n\n    if (isNavigatingFromPage) {\n      setTypingText(\"Hi, I'm Ximing!\")\n      setIsTypingComplete(true)\n      return\n    }\n\n    const fullText = \"Hi, I'm Ximing!\"\n    let index = 0\n    let lastTime = 0\n\n    const typeNext = (currentTime: number) => {\n      if (currentTime - lastTime >= 50) {\n        index += 1\n        setTypingText(fullText.slice(0, index))\n        lastTime = currentTime\n      }\n\n      if (index < fullText.length) {\n        requestAnimationFrame(typeNext)\n      } else {\n        setIsTypingComplete(true)\n      }\n    }\n\n    requestAnimationFrame(typeNext)\n  }, [phase, isNavigatingFromPage])\n\n  useEffect(() => {\n    if (phase < 1 || isImageLoaded) return\n\n    const img = new Image()\n    img.src = \"/placeholder.svg?height=400&width=400\"\n    img.onload = () => setIsImageLoaded(true)\n\n    const failSafe = setTimeout(() => setIsImageLoaded(true), 1000)\n    return () => clearTimeout(failSafe)\n  }, [phase, isImageLoaded])\n\n  useEffect(() => {\n    if (isImageLoaded && (isTypingComplete || isNavigatingFromPage)) {\n      setShouldScramble(true)\n    }\n  }, [isImageLoaded, isTypingComplete, isNavigatingFromPage])\n\n  useEffect(() => {\n    if (!shouldScramble || isScrambleComplete) return\n\n    onScramble()\n    const done = setTimeout(() => setIsScrambleComplete(true), 500)\n    return () => clearTimeout(done)\n  }, [shouldScramble, isScrambleComplete, onScramble])\n\n  useEffect(() => {\n    if (phase < 1 || isAnimationComplete) return\n\n    const force = setTimeout(() => {\n      setIsTypingComplete(true)\n      setIsScrambleComplete(true)\n      setIsImageLoaded(true)\n      setShouldScramble(true)\n      setIsAnimationComplete(true)\n    }, 1200)\n\n    return () => clearTimeout(force)\n  }, [phase, isAnimationComplete])\n\n  useEffect(() => {\n    if (!isTypingComplete || !isScrambleComplete || !isImageLoaded) return\n\n    typingRef.current?.style.setProperty(\"opacity\", \"0\")\n    const timer = setTimeout(() => setIsAnimationComplete(true), 300)\n    return () => clearTimeout(timer)\n  }, [isTypingComplete, isScrambleComplete, isImageLoaded])\n\n  return {\n    typingRef,\n    typingText,\n    isAnimationComplete,\n  }\n}\n\ninterface UseHomeRevealStateOptions {\n  windowHeight: number\n  isMobile: boolean\n  isAnimationComplete: boolean\n}\n\nexport function useHomeRevealState({\n  windowHeight,\n  isMobile,\n  isAnimationComplete,\n}: UseHomeRevealStateOptions) {\n  const [virtualScroll, setVirtualScroll] = useState(0)\n  const [isFlowerRevealed, setIsFlowerRevealed] = useState(false)\n\n  const lastTouchYRef = useRef<number | null>(null)\n  const sawScrollWhileLockedRef = useRef(false)\n  const ignoreGesturesUntilRef = useRef(0)\n\n  const revealThreshold = useMemo(() => Math.max(windowHeight * 0.6, 240), [windowHeight])\n\n  useEffect(() => {\n    setVirtualScroll((prev) => Math.min(prev, revealThreshold))\n  }, [revealThreshold])\n\n  useHomeScrollLock({\n    isAnimationComplete,\n    sawScrollWhileLockedRef,\n    ignoreGesturesUntilRef,\n  })\n\n  const handleVirtualDelta = useCallback(\n    (delta: number) => {\n      if (!delta) return\n      setVirtualScroll((prev) => THREE.MathUtils.clamp(prev + delta, 0, revealThreshold))\n    },\n    [revealThreshold],\n  )\n\n  const handleWheelGesture = useCallback(\n    (event: React.WheelEvent<HTMLDivElement>) => {\n      const isCoolingDown = performance.now() < ignoreGesturesUntilRef.current\n      if (!isAnimationComplete || isCoolingDown) {\n        if (!isAnimationComplete) sawScrollWhileLockedRef.current = true\n        if (event.cancelable) event.preventDefault()\n        return\n      }\n\n      const multiplier = isMobile ? 1.35 : 1\n      handleVirtualDelta(event.deltaY * multiplier)\n      if (event.cancelable) event.preventDefault()\n    },\n    [handleVirtualDelta, isAnimationComplete, isMobile],\n  )\n\n  const handleTouchStart = useCallback(\n    (event: React.TouchEvent<HTMLDivElement>) => {\n      const isCoolingDown = performance.now() < ignoreGesturesUntilRef.current\n      if (!isAnimationComplete || isCoolingDown) {\n        if (!isAnimationComplete) sawScrollWhileLockedRef.current = true\n        lastTouchYRef.current = null\n        event.preventDefault()\n        return\n      }\n\n      lastTouchYRef.current = event.touches[0]?.clientY ?? null\n    },\n    [isAnimationComplete],\n  )\n\n  const handleTouchMove = useCallback(\n    (event: React.TouchEvent<HTMLDivElement>) => {\n      const isCoolingDown = performance.now() < ignoreGesturesUntilRef.current\n      if (!isAnimationComplete || isCoolingDown) {\n        if (!isAnimationComplete) sawScrollWhileLockedRef.current = true\n        event.preventDefault()\n        return\n      }\n\n      if (lastTouchYRef.current == null) return\n\n      const currentY = event.touches[0]?.clientY\n      if (currentY == null) return\n\n      const delta = lastTouchYRef.current - currentY\n      const multiplier = isMobile ? 1.35 : 1\n      handleVirtualDelta(delta * multiplier)\n      lastTouchYRef.current = currentY\n      event.preventDefault()\n    },\n    [handleVirtualDelta, isAnimationComplete, isMobile],\n  )\n\n  const handleTouchEnd = useCallback(() => {\n    lastTouchYRef.current = null\n  }, [])\n\n  useEffect(() => {\n    if (!isAnimationComplete) {\n      setIsFlowerRevealed((prev) => (prev ? false : prev))\n      return\n    }\n\n    const shouldReveal = virtualScroll >= revealThreshold * 0.6\n    setIsFlowerRevealed((prev) => (prev === shouldReveal ? prev : shouldReveal))\n  }, [isAnimationComplete, virtualScroll, revealThreshold])\n\n  const flowerSvgOpacity = useMemo(() => {\n    const progress = revealThreshold === 0 ? 0 : Math.min(virtualScroll / revealThreshold, 1)\n    return 0.5 * (1 - progress)\n  }, [virtualScroll, revealThreshold])\n\n  useHomeFlowerBridge({\n    isFlowerRevealed,\n    flowerSvgOpacity,\n  })\n\n  return {\n    virtualScroll,\n    revealThreshold,\n    isFlowerRevealed,\n    handleWheelGesture,\n    handleTouchStart,\n    handleTouchMove,\n    handleTouchEnd,\n  }\n}\n","import type React from \"react\"\nimport { Suspense, useMemo, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { Canvas } from \"@react-three/fiber\"\nimport \"./Home.css\"\n\nimport AwardsModal from \"../../components/AwardsModal\"\nimport { HOME_THEME_TOKENS, THEME_VISUAL_TOKENS, type ThemeType } from \"../../theme/tokens\"\nimport FlowerScene from \"./FlowerScene\"\nimport {\n  type BubblePalette,\n  HomeDesktopEstRail,\n  HomeIntroPanel,\n  HomeNavigationBubbles,\n  HomeScrollCues,\n} from \"./HomeSections\"\nimport { useHomeIntroSequence, useHomeRevealState, useHomeViewportState } from \"./home.hooks\"\n\ninterface HomeProps {\n  theme: ThemeType\n  phase: number\n  roleTop: string\n  roleBot: string\n  onScramble: () => void\n  isNavigatingFromPage?: boolean\n}\n\nconst Home: React.FC<HomeProps> = ({\n  theme,\n  phase,\n  roleTop,\n  roleBot,\n  onScramble,\n  isNavigatingFromPage = false,\n}) => {\n  const navigate = useNavigate()\n  const [showAwards, setShowAwards] = useState(false)\n\n  const { windowWidth, windowHeight, isMobile, isSmallScreen, footerHeight, estTime } =\n    useHomeViewportState()\n\n  const { typingRef, typingText, isAnimationComplete } = useHomeIntroSequence({\n    phase,\n    onScramble,\n    isNavigatingFromPage,\n  })\n\n  const {\n    virtualScroll,\n    revealThreshold,\n    isFlowerRevealed,\n    handleWheelGesture,\n    handleTouchStart,\n    handleTouchMove,\n    handleTouchEnd,\n  } = useHomeRevealState({\n    windowHeight,\n    isMobile,\n    isAnimationComplete,\n  })\n\n  const themes = HOME_THEME_TOKENS\n  const currentTheme = themes[theme]\n  const visualTokens = THEME_VISUAL_TOKENS[theme]\n  const textColor = currentTheme[\"--color-text\"]\n  const accentColor = currentTheme[\"--color-accent-primary\"]\n  const linkColor = currentTheme[\"--link-color\"]\n\n  const imageSize = useMemo(() => {\n    if (isSmallScreen) return isMobile ? \"120px\" : \"180px\"\n    return isMobile ? \"160px\" : \"220px\"\n  }, [isSmallScreen, isMobile])\n\n  const padding = useMemo(() => {\n    return windowWidth < 510 ? \"11px\" : isMobile ? \"50px\" : \"20px\"\n  }, [windowWidth, isMobile])\n\n  const contentHeight = isSmallScreen ? \"auto\" : \"100vh\"\n\n  const contentMaxWidth = useMemo(() => {\n    const desiredGuard = isMobile ? 0 : 160\n    const minWidth = isMobile ? 200 : 600\n    const maxWidth = isMobile ? 700 : 980\n    const maxGuard = Math.max(windowWidth - minWidth, 0)\n    const guard = Math.min(desiredGuard, maxGuard)\n    const candidateWidth = Math.max(windowWidth - guard, 0)\n    return Math.min(maxWidth, candidateWidth)\n  }, [isMobile, windowWidth])\n\n  const bubblePalette = useMemo<BubblePalette>(() => {\n    const text = textColor\n    return {\n      base: visualTokens.homeBubbleBase,\n      hover: visualTokens.homeBubbleHover,\n      border: visualTokens.homeBubbleBorder,\n      text,\n      glow: visualTokens.homeBubbleGlow,\n    }\n  }, [textColor, visualTokens])\n\n  const navButtonsEnabled = isFlowerRevealed\n  const scrollIndicatorColor = \"rgba(255, 255, 255, 0.85)\"\n\n  const scrollCueOpacity = useMemo(() => {\n    if (!revealThreshold) return 1\n    const progress = Math.min(virtualScroll / Math.max(revealThreshold * 0.6, 1), 1)\n    return 1 - progress\n  }, [virtualScroll, revealThreshold])\n\n  const scrollCueBottom = useMemo(() => {\n    const base = footerHeight || (isMobile ? 90 : 70)\n    const adjustment = isMobile ? -20 : 10\n    return Math.max(16, base + adjustment)\n  }, [footerHeight, isMobile])\n\n  return (\n    <div\n      className=\"home-container\"\n      style={{\n        width: \"100%\",\n        height: contentHeight,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxSizing: \"border-box\",\n        position: \"relative\",\n        padding,\n        touchAction: \"none\",\n        [\"--home-accent\" as string]: accentColor,\n      }}\n      onWheel={handleWheelGesture}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n      onClick={() => {\n        if (isAnimationComplete) onScramble()\n      }}\n    >\n      {!isMobile && (\n        <HomeDesktopEstRail\n          estTime={estTime}\n          phase={phase}\n          isAnimationComplete={isAnimationComplete}\n          textColor={textColor}\n        />\n      )}\n\n      <div\n        className=\"three-wrapper\"\n        aria-hidden\n        style={{\n          opacity: isFlowerRevealed ? 1 : 0,\n          visibility: isFlowerRevealed ? \"visible\" : \"hidden\",\n          transition: \"opacity 0.6s ease, visibility 0.6s ease\",\n        }}\n      >\n        <Canvas\n          className=\"three-canvas\"\n          gl={{ alpha: true, antialias: true, preserveDrawingBuffer: false }}\n          dpr={[1, 2]}\n          camera={{ fov: 35, near: 0.1, far: 1000, position: [0, 0, 3] }}\n        >\n          <Suspense fallback={null}>\n            <FlowerScene layout={{ isMobile, isSmallScreen, windowWidth }} />\n          </Suspense>\n        </Canvas>\n      </div>\n\n      <HomeNavigationBubbles\n        isFlowerRevealed={isFlowerRevealed}\n        isMobile={isMobile}\n        navButtonsEnabled={navButtonsEnabled}\n        bubblePalette={bubblePalette}\n        onOpenPortfolio={() => navigate(\"/portfolio\")}\n        onOpenCreative={() => navigate(\"/creative\")}\n        onOpenAwards={() => setShowAwards(true)}\n      />\n\n      <HomeIntroPanel\n        theme={theme}\n        phase={phase}\n        roleTop={roleTop}\n        roleBot={roleBot}\n        typingText={typingText}\n        typingRef={typingRef}\n        isMobile={isMobile}\n        imageSize={imageSize}\n        contentMaxWidth={contentMaxWidth}\n        isFlowerRevealed={isFlowerRevealed}\n        isAnimationComplete={isAnimationComplete}\n        isNavigatingFromPage={isNavigatingFromPage}\n        textColor={textColor}\n        accentColor={accentColor}\n        linkColor={linkColor}\n        onOpenAwards={() => setShowAwards(true)}\n      />\n\n      <HomeScrollCues\n        phase={phase}\n        isAnimationComplete={isAnimationComplete}\n        isFlowerRevealed={isFlowerRevealed}\n        isMobile={isMobile}\n        footerHeight={footerHeight}\n        scrollCueBottom={scrollCueBottom}\n        scrollCueOpacity={scrollCueOpacity}\n        accentColor={accentColor}\n        scrollIndicatorColor={scrollIndicatorColor}\n      />\n\n      {showAwards && <AwardsModal onClose={() => setShowAwards(false)} theme={theme} />}\n    </div>\n  )\n}\n\nexport default Home\n"],"names":["HIGHLIGHTS","title","year","description","link","SCHOLARSHIPS","EXHIBITIONS","AWARDS","_ref","onClose","theme","themeTokens","AWARDS_THEME_TOKENS","visualTokens","THEME_VISUAL_TOKENS","_jsx","className","onClick","children","_jsxs","style","surfaceAwardsModal","surfaceAwardsItem","event","stopPropagation","type","Object","entries","awardsData","map","_ref2","section","awards","award","_award$link","hasLink","Boolean","trim","window","open","FlowerModel","url","onReady","uprightRotation","group","useRef","inner","scene","animations","useGLTF","actions","names","useAnimations","useEffect","forEach","name","action","reset","setLoop","THREE","Infinity","play","_actions$name","stop","current","ref","dispose","rotation","object","preload","layout","isMobile","windowWidth","modelRef","camera","size","useThree","sizeMultiplier","useMemo","frameCentered","useCallback","width","height","obj","box","setFromObject","isFinite","min","x","persp","position","set","lookAt","updateProjectionMatrix","max","y","depth","z","targetCenter","fit","fov","degToRad","viewAspect","distance","Math","tan","camPos","clone","add","normalize","multiplyScalar","viewDir","sub","cameraUp","up","right","crossVectors","trueUp","cameraDistance","distanceTo","viewportHalfHeight","verticalOffset","horizontalOffset","panOffset","newTarget","copy","near","far","handleReady","attempts","tryFrame","requestAnimationFrame","_Fragment","intensity","Environment","preset","ASCII_CHARS","src","alt","borderWidth","asciiData","setAsciiData","useState","baseAscii","setBaseAscii","isHovered","setIsHovered","isTapped","setIsTapped","isTransitioning","setIsTransitioning","useIsMobile","containerRef","imageRef","animFrameRef","imgRef","convertToAscii","img","W","H","step","ctx","OffscreenCanvas","getContext","willReadFrequently","drawImage","data","getImageData","ascii","stepX","stepY","floor","line","idx","brightness","charIdx","push","calculateAsciiArt","getBoundingClientRect","dim","resizeObserver","ResizeObserver","observe","disconnect","Image","crossOrigin","onload","startScramble","frame","tick","progress","scrambled","ln","split","c","random","join","borderRadius","overflow","flexShrink","border","asciiBorder","boxShadow","asciiGlow","transition","cursor","undefined","onMouseEnter","handleMouseEnter","length","onMouseLeave","handleMouseLeave","cancelAnimationFrame","handleTap","objectFit","display","inset","background","color","asciiText","fontSize","lineHeight","fontFamily","whiteSpace","justifyContent","alignItems","margin","HomeDesktopEstRail","estTime","phase","isAnimationComplete","textColor","HomeNavigationBubbles","isFlowerRevealed","navButtonsEnabled","bubblePalette","onOpenPortfolio","onOpenCreative","onOpenAwards","items","label","item","disabled","base","hover","text","glow","HomeIntroPanel","_ref3","roleTop","roleBot","typingText","typingRef","imageSize","contentMaxWidth","isNavigatingFromPage","accentColor","linkColor","visibility","AsciiImage","href","target","rel","HomeScrollCues","_ref4","footerHeight","scrollCueBottom","scrollCueOpacity","scrollIndicatorColor","SCROLL_LOCK_KEYS","Set","getEstTimeString","Intl","DateTimeFormat","timeZone","hour","minute","second","hour12","format","Date","useHomeViewportState","windowHeight","useViewportSize","innerWidth","innerHeight","setFooterHeight","setEstTime","isSmallScreen","document","footerEl","footerResizeObserver","measureFooter","attachFooterObserver","_footerResizeObserver","nextFooter","querySelector","mutationObserver","MutationObserver","body","childList","subtree","_footerResizeObserver2","useHomeFooterMeasurement","id","setInterval","clearInterval","useEstClock","useHomeRevealState","virtualScroll","setVirtualScroll","setIsFlowerRevealed","lastTouchYRef","sawScrollWhileLockedRef","ignoreGesturesUntilRef","revealThreshold","prev","preventWheel","cancelable","preventDefault","preventTouchMove","preventKeyboardScroll","tagName","isContentEditable","has","key","code","addEventListener","passive","removeEventListener","performance","now","useHomeScrollLock","handleVirtualDelta","delta","clamp","handleWheelGesture","isCoolingDown","multiplier","deltaY","handleTouchStart","_event$touches$0$clie","_event$touches$","touches","clientY","handleTouchMove","_event$touches$2","currentY","handleTouchEnd","shouldReveal","flowerSvgOpacity","dispatchHomeFlowerNavVisibility","dispatchHomeFlowerOpacity","Number","useHomeFlowerBridge","onScramble","navigate","useNavigate","showAwards","setShowAwards","setTypingText","isTypingComplete","setIsTypingComplete","isScrambleComplete","setIsScrambleComplete","isImageLoaded","setIsImageLoaded","setIsAnimationComplete","shouldScramble","setShouldScramble","animationRunningRef","fullText","index","lastTime","typeNext","currentTime","slice","failSafe","setTimeout","clearTimeout","done","force","_typingRef$current","setProperty","timer","useHomeIntroSequence","currentTheme","HOME_THEME_TOKENS","padding","contentHeight","desiredGuard","minWidth","maxWidth","maxGuard","guard","candidateWidth","homeBubbleBase","homeBubbleHover","homeBubbleBorder","homeBubbleGlow","adjustment","flexDirection","boxSizing","touchAction","onWheel","onTouchStart","onTouchMove","onTouchEnd","opacity","Canvas","gl","alpha","antialias","preserveDrawingBuffer","dpr","Suspense","fallback","FlowerScene","AwardsModal"],"sourceRoot":""}