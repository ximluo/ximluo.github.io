{"version":3,"file":"static/js/313.bb65cbdc.chunk.js","mappings":"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","sources":["pages/portfolio/PortfolioPage.tsx"],"sourcesContent":["import type React from \"react\"\nimport { useCallback, useEffect, useMemo, useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport OptimizedImage from \"../../components/ui/OptimizedImage\"\nimport projects from \"../../data/projects\"\nimport useIntersectionOnce from \"../../hooks/useIntersectionOnce\"\nimport useMediaQuery from \"../../hooks/useMediaQuery\"\nimport { CONTENT_THEME_TOKENS, THEME_VISUAL_TOKENS, type ThemeType } from \"../../theme/tokens\"\nimport { trackProjectCardClick } from \"../../utils/analytics\"\nimport \"./Portfolio.css\"\n\ninterface PortfolioProps {\n  theme: ThemeType\n}\n\nconst PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS = new Set([\"penn-capsule\", \"mini-minecraft\"])\n\nfunction isGifAsset(source: string) {\n  return /\\.gif(?:$|[?#])/i.test(source)\n}\n\nfunction getShortCardDescription(text: string) {\n  const trimmed = text.trim()\n  if (!trimmed) return \"\"\n\n  const firstSentenceMatch = trimmed.match(/.*?[.!?](?:\\s|$)/)\n  return (firstSentenceMatch?.[0] ?? trimmed).trim()\n}\n\nconst LazyImage: React.FC<{\n  projectId?: string\n  src: string\n  alt: string\n  style: React.CSSProperties\n}> = ({ projectId, src, alt, style }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [shouldAnimateGif, setShouldAnimateGif] = useState(false)\n  const { ref: setImgRef, hasIntersected: isInView } = useIntersectionOnce<HTMLDivElement>({\n    rootMargin: \"350px\",\n    threshold: 0.01,\n  })\n\n  const canAnimateGifThumbnail =\n    Boolean(projectId && PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS.has(projectId)) && isGifAsset(src)\n\n  useEffect(() => {\n    if (!isInView || !canAnimateGifThumbnail || shouldAnimateGif) return\n\n    const timeoutId = window.setTimeout(() => {\n      setShouldAnimateGif(true)\n    }, 180)\n\n    return () => window.clearTimeout(timeoutId)\n  }, [canAnimateGifThumbnail, isInView, shouldAnimateGif])\n\n  return (\n    <div\n      ref={setImgRef}\n      style={style}\n      onPointerEnter={() => {\n        if (canAnimateGifThumbnail) setShouldAnimateGif(true)\n      }}\n    >\n      {isInView && (\n        <>\n          {!isLoaded && (\n            <div\n              style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                backgroundColor: \"rgba(128, 128, 128, 0.1)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                color: \"rgba(128, 128, 128, 0.6)\",\n                fontSize: \"14px\",\n                fontFamily: \"monospace\",\n              }}\n            >\n              Loading...\n            </div>\n          )}\n          <OptimizedImage\n            src={src}\n            alt={alt}\n            preferPosterForGif={!(canAnimateGifThumbnail && shouldAnimateGif)}\n            preferAnimatedGifVariant={canAnimateGifThumbnail && shouldAnimateGif}\n            sizes=\"(max-width: 960px) 100vw, 460px\"\n            fetchPriority={canAnimateGifThumbnail && shouldAnimateGif ? \"auto\" : \"low\"}\n            onLoad={() => setIsLoaded(true)}\n            style={{\n              ...style,\n              opacity: isLoaded ? 1 : 0,\n              transition: \"opacity 0.3s ease, transform 0.3s ease\",\n            }}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n\nconst Portfolio: React.FC<PortfolioProps> = ({ theme }) => {\n  const [activeFilter, setActiveFilter] = useState<string | null>(null)\n  const isDesktop = useMediaQuery(\n    \"(min-width: 1025px)\",\n    typeof window !== \"undefined\" ? window.innerWidth > 1024 : false,\n  )\n  const navigate = useNavigate()\n\n  const filteredProjects = useMemo(() => {\n    if (activeFilter) {\n      return projects.filter((project) => project.categories.includes(activeFilter))\n    }\n    return projects\n  }, [activeFilter])\n\n  const handleFilterClick = useCallback((filter: string) => {\n    setActiveFilter((current) => (current === filter ? null : filter))\n  }, [])\n\n  const handleProjectClick = useCallback(\n    (projectId: string, projectName: string) => {\n      trackProjectCardClick({\n        projectId,\n        projectName,\n        uiRegion: activeFilter ? `portfolio_grid_filtered_${activeFilter}` : \"portfolio_grid\",\n      })\n      navigate(`/portfolio/${projectId}`)\n    },\n    [activeFilter, navigate],\n  )\n\n  const currentTheme = CONTENT_THEME_TOKENS[theme]\n  const cardBackground = THEME_VISUAL_TOKENS[theme].surfacePortfolioCard\n\n  return (\n    <div\n      className=\"portfolio-container\"\n      style={{\n        [\"--portfolio-scrollbar-thumb\" as string]: currentTheme[\"--button-bg\"],\n        [\"--portfolio-text\" as string]: currentTheme[\"--color-text\"],\n        [\"--portfolio-border\" as string]: currentTheme[\"--border-color\"],\n        [\"--portfolio-card-bg\" as string]: cardBackground,\n      }}\n    >\n      <div className=\"portfolio-header\">\n        <h3 className=\"portfolio-title\">Projects:</h3>\n\n        <div className=\"portfolio-filters\">\n          {[\"software\", \"graphics\"].map((filter) => {\n            const isActive = activeFilter === filter\n            return (\n              <button\n                key={filter}\n                type=\"button\"\n                onClick={() => handleFilterClick(filter)}\n                className=\"portfolio-filter-button\"\n                style={{\n                  [\"--portfolio-filter-bg\" as string]: isActive\n                    ? currentTheme[\"--button-bg\"]\n                    : currentTheme[\"--button-bg-light\"],\n                  [\"--portfolio-filter-text\" as string]: isActive\n                    ? currentTheme[\"--button-text\"]\n                    : currentTheme[\"--color-text\"],\n                }}\n              >\n                {isActive ? `${filter} ×` : filter}\n              </button>\n            )\n          })}\n        </div>\n      </div>\n\n      <div className=\"portfolio-grid\">\n        {filteredProjects.map((project) => (\n          <div\n            key={project.id}\n            onClick={() => handleProjectClick(project.id, project.name)}\n            className=\"project-card\"\n            style={{ height: isDesktop ? \"290px\" : \"240px\" }}\n          >\n            <div className=\"project-card-media\">\n              <LazyImage\n                projectId={project.id}\n                src={project.image || \"/placeholder.svg\"}\n                alt={project.name}\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"cover\",\n                  willChange: \"transform\",\n                }}\n              />\n              <div className=\"project-card-overlay\" />\n              <div className=\"project-card-meta-panel\">\n                <div className=\"project-card-meta-row\">\n                  <div className=\"project-card-copy\">\n                    <h3 className=\"project-card-title\">{project.name}</h3>\n\n                    <div className=\"project-card-languages\">\n                      {project.languages.map((lang, index) => (\n                        <span key={lang} className=\"project-card-language\">\n                          {lang}\n                          {index < project.languages.length - 1 ? \" / \" : \"\"}\n                        </span>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"project-card-arrow\">→</div>\n                </div>\n                <p className=\"project-card-hover-description\">\n                  {getShortCardDescription(project.description)}\n                </p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default Portfolio\n"],"names":["PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS","Set","getShortCardDescription","text","_firstSentenceMatch$","trimmed","trim","firstSentenceMatch","match","LazyImage","_ref","projectId","src","alt","style","isLoaded","setIsLoaded","useState","shouldAnimateGif","setShouldAnimateGif","ref","setImgRef","hasIntersected","isInView","useIntersectionOnce","rootMargin","threshold","canAnimateGifThumbnail","Boolean","has","test","useEffect","timeoutId","window","setTimeout","clearTimeout","_jsx","onPointerEnter","children","_jsxs","_Fragment","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","color","fontSize","fontFamily","OptimizedImage","preferPosterForGif","preferAnimatedGifVariant","sizes","fetchPriority","onLoad","opacity","transition","_ref2","theme","activeFilter","setActiveFilter","isDesktop","useMediaQuery","innerWidth","navigate","useNavigate","filteredProjects","useMemo","projects","filter","project","categories","includes","handleFilterClick","useCallback","current","handleProjectClick","projectName","trackProjectCardClick","uiRegion","currentTheme","CONTENT_THEME_TOKENS","cardBackground","THEME_VISUAL_TOKENS","surfacePortfolioCard","className","map","isActive","type","onClick","id","name","image","objectFit","willChange","languages","lang","index","length","description"],"sourceRoot":""}