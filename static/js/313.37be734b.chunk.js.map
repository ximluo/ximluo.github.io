{"version":3,"file":"static/js/313.37be734b.chunk.js","mappings":"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","sources":["pages/portfolio/PortfolioPage.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect, useCallback, useMemo } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport \"./Portfolio.css\"\nimport projects from \"../../data/projects\"\nimport { CONTENT_THEME_TOKENS, type ThemeType } from \"../../theme/tokens\"\nimport OptimizedImage from \"../../components/ui/OptimizedImage\"\n\ninterface PortfolioProps {\n  theme: ThemeType\n}\n\n// Lazy Image Component with intersection observer\nconst LazyImage: React.FC<{\n  src: string\n  alt: string\n  style: React.CSSProperties\n  priority?: boolean\n}> = ({ src, alt, style, priority = false }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [isInView, setIsInView] = useState(priority)\n  const [videoFailed, setVideoFailed] = useState(false)\n  const [imgRef, setImgRef] = useState<HTMLDivElement | null>(null)\n\n  useEffect(() => {\n    if (priority) return\n    if (!imgRef) return\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true)\n          observer.disconnect()\n        }\n      },\n      {\n        rootMargin: \"550px\",\n        threshold: 0.01,\n      }\n    )\n\n    observer.observe(imgRef)\n    return () => observer.disconnect()\n  }, [imgRef, priority])\n\n  useEffect(() => {\n    setIsLoaded(false)\n    setVideoFailed(false)\n  }, [src])\n\n  const isGif = src.toLowerCase().endsWith(\".gif\")\n  const optimizedVideoBase = isGif ? src.replace(/^\\/images\\//, \"/optimized/videos/\").replace(/\\.gif$/i, \"\") : null\n  const shouldUseVideo = Boolean(priority && isGif && optimizedVideoBase && !videoFailed)\n\n  const tryPlayVideo = (event: React.SyntheticEvent<HTMLVideoElement>) => {\n    const video = event.currentTarget\n    const playPromise = video.play()\n    if (playPromise && typeof playPromise.catch === \"function\") {\n      playPromise.catch(() => {})\n    }\n  }\n\n  return (\n    <div ref={setImgRef} style={style}>\n      {isInView && (\n        <>\n          {}\n          {!isLoaded && (\n            <div\n              style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                backgroundColor: \"rgba(128, 128, 128, 0.1)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                color: \"rgba(128, 128, 128, 0.6)\",\n                fontSize: \"14px\",\n                fontFamily: \"monospace\",\n              }}\n            >\n              Loading...\n            </div>\n          )}\n          {shouldUseVideo ? (\n            <video\n              muted\n              autoPlay\n              loop\n              playsInline\n              preload=\"metadata\"\n              poster={`${optimizedVideoBase}-poster.jpg`}\n              onLoadedMetadata={() => setIsLoaded(true)}\n              onLoadedData={(event) => {\n                setIsLoaded(true)\n                tryPlayVideo(event)\n              }}\n              onCanPlay={tryPlayVideo}\n              onError={() => setVideoFailed(true)}\n              style={{\n                ...style,\n                opacity: isLoaded ? 1 : 0,\n                transition: \"opacity 0.3s ease, transform 0.3s ease\",\n              }}\n            >\n              <source src={`${optimizedVideoBase}.mp4`} type=\"video/mp4\" />\n              <source src={`${optimizedVideoBase}.webm`} type=\"video/webm\" />\n            </video>\n          ) : (\n            <OptimizedImage\n              src={src}\n              alt={alt}\n              preferPosterForGif={!priority}\n              sizes=\"(max-width: 960px) 100vw, 460px\"\n              priority={priority}\n              fetchPriority={priority ? \"high\" : \"low\"}\n              onLoad={() => setIsLoaded(true)}\n              style={{\n                ...style,\n                opacity: isLoaded ? 1 : 0,\n                transition: \"opacity 0.3s ease, transform 0.3s ease\",\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  )\n}\n\nconst Portfolio: React.FC<PortfolioProps> = ({ theme }) => {\n  const [activeFilter, setActiveFilter] = useState<string | null>(null)\n  const [isDesktop, setIsDesktop] = useState(window.innerWidth > 1024)\n  const navigate = useNavigate()\n\n  const themes = CONTENT_THEME_TOKENS\n\n  // Memoize filtered projects to prevent unnecessary recalculations\n  const filteredProjects = useMemo(() => {\n    if (activeFilter) {\n      return projects.filter((project) => project.categories.includes(activeFilter))\n    }\n    return projects\n  }, [activeFilter])\n\n  // Debounced resize handler\n  useEffect(() => {\n    let timeoutId: NodeJS.Timeout\n    const handleResize = () => {\n      clearTimeout(timeoutId)\n      timeoutId = setTimeout(() => {\n        setIsDesktop(window.innerWidth > 1024)\n      }, 150)\n    }\n\n    window.addEventListener(\"resize\", handleResize, { passive: true })\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      clearTimeout(timeoutId)\n    }\n  }, [])\n\n  // Memoized event handlers\n  const handleFilterClick = useCallback((filter: string) => {\n    setActiveFilter(current => current === filter ? null : filter)\n  }, [])\n\n  const handleProjectClick = useCallback((projectId: string) => {\n    navigate(`/portfolio/${projectId}`)\n  }, [navigate])\n\n  const currentTheme = themes[theme]\n\n  return (\n    <div\n      className=\"portfolio-container\"\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        padding: \"20px\",\n        overflow: \"auto\",\n        boxSizing: \"border-box\",\n        [\"--portfolio-scrollbar-thumb\" as string]: currentTheme[\"--button-bg\"],\n      }}\n    >\n      {}\n      <div\n        style={{\n          width: \"100%\",\n          maxWidth: \"940px\",\n          margin: \"0 auto 30px\",\n          padding: \"0 20px 15px\",\n          boxSizing: \"border-box\",\n          borderBottom: `1px solid ${currentTheme[\"--border-color\"]}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          flexWrap: \"wrap\",\n          gap: \"10px 20px\",\n        }}\n      >\n        <h3\n          style={{\n            fontFamily: \"monospace\",\n            color: currentTheme[\"--color-text\"],\n            margin: 0,\n          }}\n        >\n          Projects:\n        </h3>\n\n        <div style={{ display: \"flex\", gap: \"8px\" }}>\n          {[\"software\", \"graphics\"].map((filter) => (\n            <button\n              key={filter}\n              onClick={() => handleFilterClick(filter)}\n              style={{\n                padding: \"7px 14px\",\n                backgroundColor: activeFilter === filter\n                  ? currentTheme[\"--button-bg\"]\n                  : currentTheme[\"--button-bg-light\"],\n                color: activeFilter === filter\n                  ? currentTheme[\"--button-text\"]\n                  : currentTheme[\"--color-text\"],\n                border: \"none\",\n                borderRadius: \"20px\",\n                fontFamily: \"monospace\",\n                cursor: \"pointer\",\n                textTransform: \"lowercase\",\n              }}\n            >\n              {activeFilter === filter ? `${filter} ×` : filter}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {}\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\n          gap: \"20px\",\n          width: \"100%\",\n          maxWidth: \"940px\",\n          margin: \"0 auto\",\n          padding: \"0 0px\",\n          boxSizing: \"border-box\",\n        }}\n      >\n        {filteredProjects.map((project, index) => (\n          <div\n            key={project.id}\n            onClick={() => handleProjectClick(project.id)}\n            style={{\n              position: \"relative\",\n              borderRadius: \"12px\",\n              overflow: \"hidden\",\n              backgroundColor: theme === \"bunny\"\n                ? \"rgba(121, 85, 189, 0.1)\"\n                : \"rgba(8, 34, 163, 0.25)\",\n              cursor: \"pointer\",\n              transition: \"transform 0.3s ease\",\n              height: isDesktop ? \"290px\" : \"auto\",\n              // Add will-change for better transform performance\n              willChange: \"transform\",\n            }}\n            className=\"project-card\"\n          >\n            {}\n            <div\n              style={{\n                width: \"100%\",\n                height: \"200px\",\n                overflow: \"hidden\",\n                position: \"relative\",\n              }}\n            >\n              <LazyImage\n                src={project.image || \"/placeholder.svg\"}\n                alt={project.name}\n                priority={index < 4}\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"cover\",\n                  willChange: \"transform\", // Optimize for transform animations\n                }}\n              />\n            </div>\n\n            {}\n            <div\n              style={{\n                padding: \"15px\",\n                position: \"relative\",\n                height: isDesktop ? \"85px\" : \"auto\",\n                overflow: \"hidden\",\n              }}\n            >\n              {}\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"flex-start\",\n                  gap: \"10px\",\n                }}\n              >\n                <div style={{ flex: 1 }}>\n                  <h3\n                    style={{\n                      margin: \"0 0 5px 0\",\n                      fontFamily: \"monospace\",\n                      color: currentTheme[\"--color-accent-primary\"],\n                      textAlign: \"left\",\n                    }}\n                  >\n                    {project.name}\n                  </h3>\n\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexWrap: \"wrap\",\n                      gap: \"5px\",\n                      marginBottom: \"0\",\n                    }}\n                  >\n                    {project.languages.map((lang, index) => (\n                      <span\n                        key={lang}\n                        style={{\n                          fontFamily: \"monospace\",\n                          fontSize: \"12px\",\n                          color: currentTheme[\"--color-text\"],\n                          opacity: 0.8,\n                        }}\n                      >\n                        {lang}\n                        {index < project.languages.length - 1 ? \" / \" : \"\"}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Arrow */}\n                <div\n                  className=\"hover-arrow\"\n                  style={{\n                    minWidth: \"36px\",\n                    height: \"36px\",\n                    borderRadius: \"50%\",\n                    background: currentTheme[\"--button-bg\"],\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    fontSize: \"20px\",\n                    color: currentTheme[\"--button-text\"],\n                    opacity: 1,\n                    transform: \"none\",\n                    transition: \"background 0.3s ease\",\n                  }}\n                >\n                  →\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n    </div>\n  )\n}\n\nexport default Portfolio\n"],"names":["LazyImage","_ref","src","alt","style","priority","isLoaded","setIsLoaded","useState","isInView","setIsInView","videoFailed","setVideoFailed","imgRef","setImgRef","useEffect","observer","IntersectionObserver","_ref2","entry","isIntersecting","disconnect","rootMargin","threshold","observe","isGif","toLowerCase","endsWith","optimizedVideoBase","replace","shouldUseVideo","Boolean","tryPlayVideo","event","playPromise","currentTarget","play","catch","_jsx","ref","children","_jsxs","_Fragment","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","color","fontSize","fontFamily","muted","autoPlay","loop","playsInline","preload","poster","onLoadedMetadata","onLoadedData","onCanPlay","onError","opacity","transition","type","OptimizedImage","preferPosterForGif","sizes","fetchPriority","onLoad","_ref3","theme","activeFilter","setActiveFilter","isDesktop","setIsDesktop","window","innerWidth","navigate","useNavigate","themes","CONTENT_THEME_TOKENS","filteredProjects","useMemo","projects","filter","project","categories","includes","timeoutId","handleResize","clearTimeout","setTimeout","addEventListener","passive","removeEventListener","handleFilterClick","useCallback","current","handleProjectClick","projectId","currentTheme","className","padding","overflow","boxSizing","maxWidth","margin","borderBottom","flexWrap","gap","map","onClick","border","borderRadius","cursor","textTransform","gridTemplateColumns","index","id","willChange","image","name","objectFit","flex","textAlign","marginBottom","languages","lang","length","minWidth","background","transform"],"sourceRoot":""}