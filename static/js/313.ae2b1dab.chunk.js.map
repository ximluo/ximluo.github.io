{"version":3,"file":"static/js/313.ae2b1dab.chunk.js","mappings":"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","sources":["pages/portfolio/PortfolioPage.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState, useEffect, useCallback, useMemo } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport \"./Portfolio.css\"\nimport projects from \"../../data/projects\"\nimport { CONTENT_THEME_TOKENS, type ThemeType } from \"../../theme/tokens\"\nimport OptimizedImage from \"../../components/ui/OptimizedImage\"\n\ninterface PortfolioProps {\n  theme: ThemeType\n}\n\nconst PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS = new Set([\"penn-capsule\", \"mini-minecraft\"])\n\nfunction isGifAsset(source: string) {\n  return /\\.gif(?:$|[?#])/i.test(source)\n}\n\n// Lazy Image Component with intersection observer\nconst LazyImage: React.FC<{\n  projectId?: string\n  src: string\n  alt: string\n  style: React.CSSProperties\n}> = ({ projectId, src, alt, style }) => {\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [isInView, setIsInView] = useState(false)\n  const [shouldAnimateGif, setShouldAnimateGif] = useState(false)\n  const [imgRef, setImgRef] = useState<HTMLDivElement | null>(null)\n  const canAnimateGifThumbnail =\n    Boolean(projectId && PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS.has(projectId)) && isGifAsset(src)\n\n  useEffect(() => {\n    if (!imgRef) return\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsInView(true)\n          observer.disconnect()\n        }\n      },\n      {\n        rootMargin: \"350px\",\n        threshold: 0.01,\n      }\n    )\n\n    observer.observe(imgRef)\n    return () => observer.disconnect()\n  }, [imgRef])\n\n  useEffect(() => {\n    if (!isInView || !canAnimateGifThumbnail || shouldAnimateGif) return\n\n    // Delay the animated GIF swap slightly so the poster paints first and the grid remains responsive.\n    const timeoutId = window.setTimeout(() => {\n      setShouldAnimateGif(true)\n    }, 180)\n\n    return () => window.clearTimeout(timeoutId)\n  }, [canAnimateGifThumbnail, isInView, shouldAnimateGif])\n\n  return (\n    <div\n      ref={setImgRef}\n      style={style}\n      onPointerEnter={() => {\n        if (canAnimateGifThumbnail) setShouldAnimateGif(true)\n      }}\n    >\n      {isInView && (\n        <>\n          {}\n          {!isLoaded && (\n            <div\n              style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                height: \"100%\",\n                backgroundColor: \"rgba(128, 128, 128, 0.1)\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                color: \"rgba(128, 128, 128, 0.6)\",\n                fontSize: \"14px\",\n                fontFamily: \"monospace\",\n              }}\n            >\n              Loading...\n            </div>\n          )}\n          <OptimizedImage\n            src={src}\n            alt={alt}\n            preferPosterForGif={!(canAnimateGifThumbnail && shouldAnimateGif)}\n            sizes=\"(max-width: 960px) 100vw, 460px\"\n            fetchPriority={canAnimateGifThumbnail && shouldAnimateGif ? \"auto\" : \"low\"}\n            onLoad={() => setIsLoaded(true)}\n            style={{\n              ...style,\n              opacity: isLoaded ? 1 : 0,\n              transition: \"opacity 0.3s ease, transform 0.3s ease\",\n            }}\n          />\n        </>\n      )}\n    </div>\n  )\n}\n\nconst Portfolio: React.FC<PortfolioProps> = ({ theme }) => {\n  const [activeFilter, setActiveFilter] = useState<string | null>(null)\n  const [isDesktop, setIsDesktop] = useState(window.innerWidth > 1024)\n  const navigate = useNavigate()\n\n  const themes = CONTENT_THEME_TOKENS\n\n  // Memoize filtered projects to prevent unnecessary recalculations\n  const filteredProjects = useMemo(() => {\n    if (activeFilter) {\n      return projects.filter((project) => project.categories.includes(activeFilter))\n    }\n    return projects\n  }, [activeFilter])\n\n  // Debounced resize handler\n  useEffect(() => {\n    let timeoutId: NodeJS.Timeout\n    const handleResize = () => {\n      clearTimeout(timeoutId)\n      timeoutId = setTimeout(() => {\n        setIsDesktop(window.innerWidth > 1024)\n      }, 150)\n    }\n\n    window.addEventListener(\"resize\", handleResize, { passive: true })\n    return () => {\n      window.removeEventListener(\"resize\", handleResize)\n      clearTimeout(timeoutId)\n    }\n  }, [])\n\n  // Memoized event handlers\n  const handleFilterClick = useCallback((filter: string) => {\n    setActiveFilter(current => current === filter ? null : filter)\n  }, [])\n\n  const handleProjectClick = useCallback((projectId: string) => {\n    navigate(`/portfolio/${projectId}`)\n  }, [navigate])\n\n  const currentTheme = themes[theme]\n\n  return (\n    <div\n      className=\"portfolio-container\"\n      style={{\n        width: \"100%\",\n        height: \"100%\",\n        padding: \"20px\",\n        overflow: \"auto\",\n        boxSizing: \"border-box\",\n        [\"--portfolio-scrollbar-thumb\" as string]: currentTheme[\"--button-bg\"],\n      }}\n    >\n      {}\n      <div\n        style={{\n          width: \"100%\",\n          maxWidth: \"940px\",\n          margin: \"0 auto 30px\",\n          padding: \"0 20px 15px\",\n          boxSizing: \"border-box\",\n          borderBottom: `1px solid ${currentTheme[\"--border-color\"]}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          flexWrap: \"wrap\",\n          gap: \"10px 20px\",\n        }}\n      >\n        <h3\n          style={{\n            fontFamily: \"monospace\",\n            color: currentTheme[\"--color-text\"],\n            margin: 0,\n          }}\n        >\n          Projects:\n        </h3>\n\n        <div style={{ display: \"flex\", gap: \"8px\" }}>\n          {[\"software\", \"graphics\"].map((filter) => (\n            <button\n              key={filter}\n              onClick={() => handleFilterClick(filter)}\n              style={{\n                padding: \"7px 14px\",\n                backgroundColor: activeFilter === filter\n                  ? currentTheme[\"--button-bg\"]\n                  : currentTheme[\"--button-bg-light\"],\n                color: activeFilter === filter\n                  ? currentTheme[\"--button-text\"]\n                  : currentTheme[\"--color-text\"],\n                border: \"none\",\n                borderRadius: \"20px\",\n                fontFamily: \"monospace\",\n                cursor: \"pointer\",\n                textTransform: \"lowercase\",\n              }}\n            >\n              {activeFilter === filter ? `${filter} ×` : filter}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {}\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\n          gap: \"20px\",\n          width: \"100%\",\n          maxWidth: \"940px\",\n          margin: \"0 auto\",\n          padding: \"0 0px\",\n          boxSizing: \"border-box\",\n        }}\n      >\n        {filteredProjects.map((project) => (\n          <div\n            key={project.id}\n            onClick={() => handleProjectClick(project.id)}\n            style={{\n              position: \"relative\",\n              borderRadius: \"12px\",\n              overflow: \"hidden\",\n              backgroundColor: theme === \"bunny\"\n                ? \"rgba(121, 85, 189, 0.1)\"\n                : \"rgba(8, 34, 163, 0.25)\",\n              cursor: \"pointer\",\n              transition: \"transform 0.3s ease\",\n              height: isDesktop ? \"290px\" : \"auto\",\n              // Add will-change for better transform performance\n              willChange: \"transform\",\n            }}\n            className=\"project-card\"\n          >\n            {}\n            <div\n              style={{\n                width: \"100%\",\n                height: \"200px\",\n                overflow: \"hidden\",\n                position: \"relative\",\n              }}\n            >\n              <LazyImage\n                projectId={project.id}\n                src={project.image || \"/placeholder.svg\"}\n                alt={project.name}\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"cover\",\n                  willChange: \"transform\", // Optimize for transform animations\n                }}\n              />\n            </div>\n\n            {}\n            <div\n              style={{\n                padding: \"15px\",\n                position: \"relative\",\n                height: isDesktop ? \"85px\" : \"auto\",\n                overflow: \"hidden\",\n              }}\n            >\n              {}\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"flex-start\",\n                  gap: \"10px\",\n                }}\n              >\n                <div style={{ flex: 1 }}>\n                  <h3\n                    style={{\n                      margin: \"0 0 5px 0\",\n                      fontFamily: \"monospace\",\n                      color: currentTheme[\"--color-accent-primary\"],\n                      textAlign: \"left\",\n                    }}\n                  >\n                    {project.name}\n                  </h3>\n\n                  <div\n                    style={{\n                      display: \"flex\",\n                      flexWrap: \"wrap\",\n                      gap: \"5px\",\n                      marginBottom: \"0\",\n                    }}\n                  >\n                    {project.languages.map((lang, index) => (\n                      <span\n                        key={lang}\n                        style={{\n                          fontFamily: \"monospace\",\n                          fontSize: \"12px\",\n                          color: currentTheme[\"--color-text\"],\n                          opacity: 0.8,\n                        }}\n                      >\n                        {lang}\n                        {index < project.languages.length - 1 ? \" / \" : \"\"}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Arrow */}\n                <div\n                  className=\"hover-arrow\"\n                  style={{\n                    minWidth: \"36px\",\n                    height: \"36px\",\n                    borderRadius: \"50%\",\n                    background: currentTheme[\"--button-bg\"],\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    fontSize: \"20px\",\n                    color: currentTheme[\"--button-text\"],\n                    opacity: 1,\n                    transform: \"none\",\n                    transition: \"background 0.3s ease\",\n                  }}\n                >\n                  →\n                </div>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n    </div>\n  )\n}\n\nexport default Portfolio\n"],"names":["PROGRESSIVE_GIF_THUMBNAIL_PROJECT_IDS","Set","LazyImage","_ref","projectId","src","alt","style","isLoaded","setIsLoaded","useState","isInView","setIsInView","shouldAnimateGif","setShouldAnimateGif","imgRef","setImgRef","canAnimateGifThumbnail","Boolean","has","test","useEffect","observer","IntersectionObserver","_ref2","entry","isIntersecting","disconnect","rootMargin","threshold","observe","timeoutId","window","setTimeout","clearTimeout","_jsx","ref","onPointerEnter","children","_jsxs","_Fragment","position","top","left","width","height","backgroundColor","display","alignItems","justifyContent","color","fontSize","fontFamily","OptimizedImage","preferPosterForGif","sizes","fetchPriority","onLoad","opacity","transition","_ref3","theme","activeFilter","setActiveFilter","isDesktop","setIsDesktop","innerWidth","navigate","useNavigate","themes","CONTENT_THEME_TOKENS","filteredProjects","useMemo","projects","filter","project","categories","includes","handleResize","addEventListener","passive","removeEventListener","handleFilterClick","useCallback","current","handleProjectClick","currentTheme","className","padding","overflow","boxSizing","maxWidth","margin","borderBottom","flexWrap","gap","map","onClick","border","borderRadius","cursor","textTransform","gridTemplateColumns","id","willChange","image","name","objectFit","flex","textAlign","marginBottom","languages","lang","index","length","minWidth","background","transform"],"sourceRoot":""}